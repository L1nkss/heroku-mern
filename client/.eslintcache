[{"C:\\repos\\l1nks-movie-app\\client\\src\\index.tsx":"1","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\store.ts":"2","C:\\repos\\l1nks-movie-app\\client\\src\\utils\\history.ts":"3","C:\\repos\\l1nks-movie-app\\client\\src\\routes\\routes.tsx":"4","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\sagas\\sagas.ts":"5","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\rootReducer.ts":"6","C:\\repos\\l1nks-movie-app\\client\\src\\constants\\constants.ts":"7","C:\\repos\\l1nks-movie-app\\client\\src\\components\\app\\app.tsx":"8","C:\\repos\\l1nks-movie-app\\client\\src\\components\\error\\error.tsx":"9","C:\\repos\\l1nks-movie-app\\client\\src\\components\\not-found\\not-found.tsx":"10","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\app\\reduser.ts":"11","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\genre\\reducer.ts":"12","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\genre\\saga\\saga.ts":"13","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\user\\reducer.ts":"14","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\saga\\saga.ts":"15","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\reducer.ts":"16","C:\\repos\\l1nks-movie-app\\client\\src\\components\\app\\selectors\\selectors.ts":"17","C:\\repos\\l1nks-movie-app\\client\\src\\routes\\content.tsx":"18","C:\\repos\\l1nks-movie-app\\client\\src\\components\\loader\\loader.tsx":"19","C:\\repos\\l1nks-movie-app\\client\\src\\components\\header\\header.tsx":"20","C:\\repos\\l1nks-movie-app\\client\\src\\utils\\helpers.ts":"21","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\utils\\filmAdapter.ts":"22","C:\\repos\\l1nks-movie-app\\client\\src\\services\\api.ts":"23","C:\\repos\\l1nks-movie-app\\client\\src\\components\\film-details\\film-details.tsx":"24","C:\\repos\\l1nks-movie-app\\client\\src\\components\\main\\main.tsx":"25","C:\\repos\\l1nks-movie-app\\client\\src\\components\\loginForm\\loginForm.tsx":"26","C:\\repos\\l1nks-movie-app\\client\\src\\components\\popup\\popup.tsx":"27","C:\\repos\\l1nks-movie-app\\client\\src\\components\\registerForm\\registerForm.tsx":"28","C:\\repos\\l1nks-movie-app\\client\\src\\components\\menu\\menu.tsx":"29","C:\\repos\\l1nks-movie-app\\client\\src\\components\\content\\content.tsx":"30","C:\\repos\\l1nks-movie-app\\client\\src\\components\\films\\films.tsx":"31","C:\\repos\\l1nks-movie-app\\client\\src\\components\\search\\search.tsx":"32","C:\\repos\\l1nks-movie-app\\client\\src\\components\\film-card\\film-card.tsx":"33"},{"size":496,"mtime":1611409233438,"results":"34","hashOfConfig":"35"},{"size":520,"mtime":1611409233439,"results":"36","hashOfConfig":"35"},{"size":114,"mtime":1609703378370,"results":"37","hashOfConfig":"35"},{"size":605,"mtime":1611409233439,"results":"38","hashOfConfig":"35"},{"size":263,"mtime":1611409233439,"results":"39","hashOfConfig":"35"},{"size":359,"mtime":1611409233438,"results":"40","hashOfConfig":"35"},{"size":1269,"mtime":1611578430343,"results":"41","hashOfConfig":"35"},{"size":2241,"mtime":1611423500706,"results":"42","hashOfConfig":"35"},{"size":147,"mtime":1611409233438,"results":"43","hashOfConfig":"35"},{"size":149,"mtime":1611409233438,"results":"44","hashOfConfig":"35"},{"size":394,"mtime":1611409233438,"results":"45","hashOfConfig":"35"},{"size":1649,"mtime":1611409233438,"results":"46","hashOfConfig":"35"},{"size":792,"mtime":1611409233438,"results":"47","hashOfConfig":"35"},{"size":1806,"mtime":1611517259652,"results":"48","hashOfConfig":"35"},{"size":3264,"mtime":1611409233438,"results":"49","hashOfConfig":"35"},{"size":1435,"mtime":1611409233438,"results":"50","hashOfConfig":"35"},{"size":505,"mtime":1611409233438,"results":"51","hashOfConfig":"35"},{"size":558,"mtime":1611409233439,"results":"52","hashOfConfig":"35"},{"size":401,"mtime":1611409233438,"results":"53","hashOfConfig":"35"},{"size":3930,"mtime":1611409233438,"results":"54","hashOfConfig":"35"},{"size":363,"mtime":1611409233439,"results":"55","hashOfConfig":"35"},{"size":1529,"mtime":1611409233438,"results":"56","hashOfConfig":"35"},{"size":1372,"mtime":1611577205963,"results":"57","hashOfConfig":"35"},{"size":5165,"mtime":1611664705138,"results":"58","hashOfConfig":"35"},{"size":1424,"mtime":1611409233438,"results":"59","hashOfConfig":"35"},{"size":2568,"mtime":1611495210133,"results":"60","hashOfConfig":"35"},{"size":933,"mtime":1611409233438,"results":"61","hashOfConfig":"35"},{"size":2733,"mtime":1611409233438,"results":"62","hashOfConfig":"35"},{"size":596,"mtime":1609703370883,"results":"63","hashOfConfig":"35"},{"size":3810,"mtime":1611409233438,"results":"64","hashOfConfig":"35"},{"size":1823,"mtime":1611409233438,"results":"65","hashOfConfig":"35"},{"size":678,"mtime":1611409233438,"results":"66","hashOfConfig":"35"},{"size":1782,"mtime":1611576371221,"results":"67","hashOfConfig":"35"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"71"},"1oio6kb",{"filePath":"72","messages":"73","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"71"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"71"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"71"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"71"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"71"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"71"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"71"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"71"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"71"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"71"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"71"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"71"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"71"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"131","messages":"132","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"71"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"71"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"71"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"71"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"71"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"71"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},"C:\\repos\\l1nks-movie-app\\client\\src\\index.tsx",["155"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Router } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/app/app\";\nimport history from \"./utils/history\";\n\nimport store from \"./redux/store\";\nimport \"./style/style.scss\";\nimport { AppRoutes } from \"./routes/routes\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <AppRoutes />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\"),\n);\n",["156","157","158","159","160","161","162"],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\store.ts",["163","164"],"import {\n  configureStore, Action, getDefaultMiddleware,\n} from \"@reduxjs/toolkit\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSaga from \"./sagas/sagas\";\n\nimport rootReducer, { RootState } from \"./reducers/rootReducer\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = configureStore({\n  reducer: rootReducer,\n  middleware: [...getDefaultMiddleware({ thunk: false }), sagaMiddleware],\n});\n\nexport type AppDispatch = typeof store.dispatch;\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","C:\\repos\\l1nks-movie-app\\client\\src\\utils\\history.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\routes\\routes.tsx",["165"],"import {\n  Switch, Route, Redirect,\n} from \"react-router-dom\";\nimport { RoutePathes } from \"../constants/constants\";\nimport App from \"../components/app/app\";\nimport ErrorPage from \"../components/error/error\";\nimport NotFound from \"../components/not-found/not-found\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport const AppRoutes: React.FC = () => {\n  return (\n    <Switch>\n      <Route path={RoutePathes.ERROR} exact component={ErrorPage} />\n      <Route path={RoutePathes.ROOT} component={App} />\n      <Route path={RoutePathes.NOT_FOUND} component={NotFound} />\n    </Switch>\n  );\n};\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\sagas\\sagas.ts",["166"],"import { all } from \"redux-saga/effects\";\nimport watchGenreSaga from \"../reducers/genre/saga/saga\";\nimport watchFilmsSaga from \"../reducers/films/saga/saga\";\n\nexport default function* rootSaga() {\n  yield all([\n    watchGenreSaga(),\n    watchFilmsSaga(),\n  ]);\n}\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\rootReducer.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\constants\\constants.ts",["167"],"export const RoutePathes = {\n  ROOT: \"/\",\n  ERROR: \"/error\",\n  FILM_DETAILS: \"/film-details\",\n  NOT_FOUND: \"/not-found\",\n};\n\nexport const ENDPOINTS = {\n  registration: \"api/auth/signup\",\n  login: \"api/auth/signin\",\n  checkToken: \"/api/checkToken\",\n};\n\nexport const GENRE_TYPE_ALL = [\n  {\n    id: 63467,\n    name: \"All\",\n  },\n];\n\nexport const REGULARS = {\n  SEARCH_YEAR: \"^\\\\d{4}\",\n};\n\nexport const CONSTANT_GENRES = [\n  {\n    id: 6542,\n    name: \"Now playing\",\n  },\n  {\n    id: 5655,\n    name: \"Popular\",\n  },\n  {\n    id: 6571,\n    name: \"Top Rated\",\n  },\n  {\n    id: 7823,\n    name: \"Upcoming\",\n  },\n];\n\nexport const YOUTUBE_LINK = \"https://www.youtube.com/embed/\";\n\n// список жанров для получения данных с сервера\nexport const GENRES_TYPES_TO_SERVER = {\n  [CONSTANT_GENRES[0].name]: \"now_playing\",\n  [CONSTANT_GENRES[1].name]: \"popular\",\n  [CONSTANT_GENRES[2].name]: \"top_rated\",\n  [CONSTANT_GENRES[3].name]: \"upcoming\",\n};\n\nconst CORS_URL = \"https://cors-anywhere.herokuapp.com/\";\n\n// export const IMAGE_URL = \"https://image.tmdb.org/t/p/w342/\";\n\nexport const IMAGE_SIZE_URL = {\n  SMALL: \"https://image.tmdb.org/t/p/w342/\",\n  BIG: \"https://image.tmdb.org/t/p/w1280/\",\n};\n\nexport const BASE_URL = \"https://api.themoviedb.org/3\";\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\app\\app.tsx",["168","169","170"],"import React, { memo, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"../header/header\";\nimport Main from \"../main/main\";\nimport Loader from \"../loader/loader\";\nimport { getGenresRequest } from \"../../redux/reducers/genre/reducer\";\nimport {\n  getUserDataRequest, getUserDataSuccess, getUserDataNoUser,\n} from \"../../redux/reducers/user/reducer\";\nimport { getFilmsRequest } from \"../../redux/reducers/films/reducer\";\nimport { ENDPOINTS } from \"../../constants/constants\";\nimport { isFetchingDone } from \"./selectors/selectors\";\nimport { ContentRoutes } from \"../../routes/content\";\n\nconst App: React.FC = () => {\n  const [isUserAuthChecked, setUserAuthStatus] = useState(false);\n  const dispatch = useDispatch();\n  const isDataLoaded = useSelector(isFetchingDone);\n\n  useEffect(() => {\n    const checkAuthStatus = async () => {\n      dispatch(getUserDataRequest()); // загружаем информацию о пользователе\n      try {\n        const response = await axios.get(ENDPOINTS.checkToken);\n        if (response.status === 200) {\n          const {\n            username, email, id, favoriteFilms,\n          } = response.data;\n          dispatch(getUserDataSuccess({\n            username, email, id, favoriteFilms,\n          }));\n        }\n      } catch (e) {\n        if (e.response.status === 401) {\n          dispatch(getUserDataNoUser());\n        }\n      } finally {\n        setUserAuthStatus(true);\n      }\n    };\n    dispatch(getGenresRequest()); // загружаем жанры\n    dispatch(getFilmsRequest()); // Загружаем фильмы\n    checkAuthStatus(); // проверяем статус авторизацияя\n  }, []);\n\n  return (\n    <div className=\"app\">\n      {\n        // Проверяем, что данные загрузились с сервера и информация о пользователе получена\n        isDataLoaded && isUserAuthChecked\n          ? (\n            <>\n              <Header />\n              <ContentRoutes />\n            </>\n          )\n          : <Loader />\n      }\n    </div>\n  );\n};\n\nexport default memo(App);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\error\\error.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\not-found\\not-found.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\app\\reduser.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\genre\\reducer.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\genre\\saga\\saga.ts",["171"],"import { put, call, takeEvery } from \"redux-saga/effects\";\nimport { getGenresRequest, getGenresSuccess, getGenresError } from \"../reducer\";\nimport api from \"../../../../services/api\";\nimport { GENRE_TYPE_ALL, RoutePathes } from \"../../../../constants/constants\";\nimport history from \"../../../../utils/history\";\n\nfunction* getGenres() {\n  try {\n    const response = yield call(api.getGenres);\n    // добавляем жанры с сервера + константное значение для всех фильмов\n    yield put(getGenresSuccess([...GENRE_TYPE_ALL, ...response.data.genres]));\n  } catch (e) {\n    yield put(getGenresError());\n    history.push(RoutePathes.ERROR);\n  }\n}\n\nexport default function* watchGenreSaga() {\n  yield takeEvery(getGenresRequest.type, getGenres);\n}\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\user\\reducer.ts",["172","173","174"],"import { createSlice, PayloadAction, current } from \"@reduxjs/toolkit\";\nimport { IInitialUserState, TUserData } from \"./types/types\";\nimport { TUserFavoriteFilms } from \"../../../../../server/src/models/user\";\n\nconst defaultUserData = {\n  username: \"\",\n  email: \"\",\n  id: \"\",\n  favoriteFilms: [],\n};\n\nconst initialState: IInitialUserState = {\n  isLogin: false,\n  loading: false,\n  data: defaultUserData,\n};\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    getUserDataRequest(state: IInitialUserState) {\n      return { ...state, loading: true };\n    },\n    getUserDataSuccess(state: IInitialUserState, action: PayloadAction<TUserData>) {\n      return {\n        ...state, loading: false, isLogin: true, data: action.payload,\n      };\n    },\n    setUserData(state: IInitialUserState, action: PayloadAction<TUserData>): void {\n      state.data = action.payload;\n      state.isLogin = true;\n    },\n    // Возможно можно сделать проще через setUserData и передачу пустого экшена\n    setUserDataToDefault(state: IInitialUserState): void {\n      state.data = defaultUserData;\n      state.isLogin = false;\n    },\n    setLoginStatus(state: IInitialUserState, action: PayloadAction<boolean>) {\n      return { ...state, isLogin: action.payload };\n    },\n    getUserDataNoUser(state: IInitialUserState) {\n      return { ...state, loading: false };\n    },\n    addFavoriteFilm(state: IInitialUserState, action: PayloadAction<any>) {\n      return { ...state, data: { ...state.data, favoriteFilms: action.payload } };\n    },\n  },\n});\n\nexport const {\n  setUserData, setUserDataToDefault, setLoginStatus, getUserDataRequest, getUserDataSuccess, getUserDataNoUser, addFavoriteFilm,\n} = userSlice.actions;\n\nexport default userSlice.reducer;\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\saga\\saga.ts",["175","176","177","178"],"import {\n  put, call, takeEvery, select,\n} from \"redux-saga/effects\";\nimport {\n  getFilmsRequest, getFilmsSuccess, loadAdditionFilmsSuccess, loadAdditionFilmsRequest,\n} from \"../reducer\";\nimport { changeCategory, changeActiveGenre } from \"../../genre/reducer\";\nimport { IRootState } from \"../../types/types\";\nimport { GENRES_TYPES_TO_SERVER } from \"../../../../constants/constants\";\nimport api from \"../../../../services/api\";\nimport FilmAdapter from \"../utils/filmAdapter\";\nimport { isStringsEqual } from \"../../../../utils/helpers\";\n\nconst getActiveCategory = (state: IRootState) => state.genres.category;\nconst getActiveGenre = (state: IRootState) => state.genres.active;\nconst getActiveGenreId = (state: IRootState) => {\n  const allGenres = state.genres.list;\n  const activeGenre = state.genres.active;\n  const idx = allGenres.findIndex((genre) => isStringsEqual(genre.name, activeGenre));\n\n  return allGenres[idx].id;\n};\n\nconst getTotalPages = (state: IRootState) => state.films.totalPages;\nconst getCurrentPage = (state: IRootState) => state.films.page;\n\n// Сага для запуска обновления фильмов, если изменился жанр\nfunction* getFilmsWhenGenreUpdated() {\n  try {\n    yield put(getFilmsRequest());\n  } catch (e) {\n    yield console.log(\"error\", e);\n  }\n}\n\n// Сага для загрузки большего количество фильмов\nfunction* getAdditionFilms() {\n  try {\n    let response;\n    const totalPages = yield select(getTotalPages);\n    const currentPage = yield select(getCurrentPage);\n    const activeGenre = yield select(getActiveGenre);\n\n    if (currentPage + 1 <= totalPages) {\n      if (isStringsEqual(activeGenre, \"all\")) {\n        const activeCategory = yield select(getActiveCategory);\n        response = yield call(api.getFilms, GENRES_TYPES_TO_SERVER[activeCategory], {\n          page: currentPage + 1,\n        });\n      } else {\n        const activeGenreId = yield select(getActiveGenreId);\n        response = yield call(api.discoverFilms, { with_genres: activeGenreId, page: currentPage + 1 });\n      }\n      yield put(loadAdditionFilmsSuccess({\n        films: FilmAdapter.transformData(response.data.results),\n      }));\n    }\n  } catch (e) {\n    yield console.log(\"error\", e);\n  }\n}\n\nfunction* getFilms() {\n  try {\n    let response;\n    const activeGenre = yield select(getActiveGenre);\n    if (isStringsEqual(activeGenre, \"all\")) {\n      const activeCategory = yield select(getActiveCategory);\n      response = yield call(api.getFilms, GENRES_TYPES_TO_SERVER[activeCategory]);\n    } else {\n      const activeGenreId = yield select(getActiveGenreId);\n      response = yield call(api.discoverFilms, { with_genres: activeGenreId });\n    }\n    yield put(getFilmsSuccess({\n      films: FilmAdapter.transformData(response.data.results),\n      page: response.data.page,\n      totalPages: response.data.total_pages,\n    }));\n  } catch (e) {\n    yield console.log(\"error\", e);\n  }\n}\n\nexport default function* watchFilmsSaga() {\n  yield takeEvery(getFilmsRequest.type, getFilms);\n  yield takeEvery(changeCategory.type, getFilmsWhenGenreUpdated);\n  yield takeEvery(changeActiveGenre.type, getFilmsWhenGenreUpdated);\n  yield takeEvery(loadAdditionFilmsRequest.type, getAdditionFilms);\n}\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\reducer.ts",["179","180"],"import { createSlice, PayloadAction, current } from \"@reduxjs/toolkit\";\nimport { IClientFilmData } from \"./types/types\";\n\nexport interface IFilmState {\n  films: Array<IClientFilmData>,\n  loading: boolean,\n  error: boolean\n  page: number,\n  totalPages: number,\n  loadingAdditionFilms: boolean,\n  isSearching: boolean\n}\n\nconst initialState: IFilmState = {\n  films: [],\n  loading: false,\n  error: false,\n  page: 1,\n  totalPages: 1,\n  loadingAdditionFilms: false,\n  isSearching: false,\n};\n\nconst filmsSlice = createSlice({\n  name: \"films\",\n  initialState,\n  reducers: {\n    getFilmsRequest(state) {\n      return { ...state, loading: true, error: false };\n    },\n    getFilmsSuccess(state, action) {\n      const { totalPages, page, films } = action.payload;\n      return {\n        ...state, loading: false, films, page, totalPages,\n      };\n    },\n    loadAdditionFilmsRequest(state) {\n      return { ...state, loadingAdditionFilms: true };\n    },\n    loadAdditionFilmsSuccess(state, action) {\n      return {\n        ...state, films: [...state.films, ...action.payload.films], page: state.page + 1, loadingAdditionFilms: false,\n      };\n    },\n    changeSearchStatus(state, action) {\n      return { ...state, isSearching: action.payload };\n    },\n  },\n});\n\nexport const {\n  getFilmsRequest, getFilmsSuccess, loadAdditionFilmsSuccess, loadAdditionFilmsRequest, changeSearchStatus,\n} = filmsSlice.actions;\n\nexport default filmsSlice.reducer;\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\app\\selectors\\selectors.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\routes\\content.tsx",["181","182","183"],"import { Redirect, Route, Switch } from \"react-router-dom\";\nimport { RoutePathes } from \"../constants/constants\";\nimport FilmDetails from \"../components/film-details/film-details\";\nimport Main from \"../components/main/main\";\nimport NotFound from \"../components/not-found/not-found\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport const ContentRoutes: React.FC = () => {\n  return (\n    <>\n      <Route path={`${RoutePathes.FILM_DETAILS}/:id?`} exact component={FilmDetails} />\n      <Route path=\"/\" exact component={Main} />\n    </>\n  );\n};\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\loader\\loader.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\header\\header.tsx",["184","185","186","187"],"import React, { memo, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport Menu from \"../menu/menu\";\nimport Popup from \"../popup/popup\";\nimport LoginForm from \"../loginForm/loginForm\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\nimport { setUserDataToDefault } from \"../../redux/reducers/user/reducer\";\nimport RegisterForm from \"../registerForm/registerForm\";\n\n/*\n todo\n не очень красиво с formToShow, исправить по возможности выбор контента для Popup'a\n */\nconst Header: React.FC = () => {\n  const dispatch = useDispatch();\n  const [showPopup, setShowPopup] = useState(false);\n  const [formToShow, setFormToShow] = useState(\"\");\n  const isLogin = useSelector((state: IRootState) => state.user.isLogin);\n  const userName = useSelector((state: IRootState) => state.user.data.username);\n\n  const togglePopupStatus = () => {\n    setShowPopup((prevState) => !prevState);\n  };\n\n  const toggleButtonsClick = () => {\n    if (formToShow === \"login\") return <LoginForm successCb={togglePopupStatus} />;\n    if (formToShow === \"registration\") return <RegisterForm successCb={togglePopupStatus} />;\n    return <></>;\n  };\n  const userMenuActions = [\n    {\n      label: \"Избранные фильмы\",\n      callback: () => console.log(\"Колбэк с фильмами\"),\n      key: 3,\n    },\n    {\n      label: \"Настройки\",\n      callback: () => console.log(\"Колбэк с настройкой\"),\n      key: 1,\n    },\n    {\n      label: \"Выйти\",\n      callback: async () => {\n        try {\n          const response = await axios.post(\"/api/logout\");\n          if (response.status === 200) {\n            dispatch(setUserDataToDefault());\n          }\n        } catch (e) {\n          console.log(\"Ошибка\", e);\n        }\n      },\n      key: 2,\n    },\n  ];\n  const authButtons = useMemo(() => {\n    return (\n      <>\n        <button\n          className=\"button\"\n          type=\"button\"\n          onClick={() => {\n            setFormToShow(\"login\");\n            togglePopupStatus();\n          }}\n        >\n          Логин\n        </button>\n        <button\n          className=\"button button--orange\"\n          type=\"button\"\n          onClick={() => {\n            setFormToShow(\"registration\");\n            togglePopupStatus();\n          }}\n        >\n          Регистрация\n        </button>\n      </>\n    );\n  }, []);\n\n  const userProfile = useMemo(() => {\n    return (\n      <div className=\"header__user-menu\">\n        <h3 className=\"header__user-name\">\n          {userName}\n          <Menu\n            className=\"header__dropdown\"\n            render={(className: string) => {\n              return userMenuActions.map((element) => {\n                return (\n                  <li\n                    role=\"presentation\"\n                    key={element.key}\n                    onKeyDown={element.callback}\n                    onClick={element.callback}\n                    className={className}\n                  >\n                    {element.label}\n                  </li>\n                );\n              });\n            }}\n          />\n        </h3>\n      </div>\n    );\n  }, [userName]);\n  return (\n    <header className=\"header\">\n      <div className=\"content-wrapper header__content\">\n        <h1 className=\"header__title\">\n          <Link to=\"/\">The movie pet project</Link>\n          <p className=\"header__source-link\">\n            provided by\n            <a href=\"https://www.themoviedb.org/?language=en\" rel=\"noreferrer\" target=\"_blank\"> TMD</a>\n          </p>\n        </h1>\n        <>\n          {isLogin ? userProfile : authButtons}\n        </>\n      </div>\n      { showPopup && <Popup closeClickCallback={togglePopupStatus}>{toggleButtonsClick()}</Popup>}\n    </header>\n  );\n};\n\nexport default memo(Header);\n","C:\\repos\\l1nks-movie-app\\client\\src\\utils\\helpers.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\utils\\filmAdapter.ts",["188","189"],"import { IClientFilmDetails, IServerFilmData, IServerFilmDetails } from \"../types/types\";\n\nexport default class FilmAdapter {\n  static transformElement(element: IServerFilmData) {\n    return {\n      adult: element.adult,\n      backdropPath: element.backdrop_path,\n      genreIds: element.genre_ids,\n      id: element.id,\n      originalLanguage: element.original_language,\n      originalTitle: element.original_title,\n      overview: element.overview,\n      popularity: element.popularity,\n      posterPath: element.poster_path,\n      releaseDate: element.release_date,\n      title: element.title,\n      video: element.video,\n      voteAverage: element.vote_average,\n      voteCount: element.vote_count,\n    };\n  }\n\n  static transformData(data: Array<IServerFilmData>) {\n    return data.map(this.transformElement);\n  }\n\n  static transformFilmDetailsData(element: IServerFilmDetails): IClientFilmDetails {\n    return {\n      adult: element.adult,\n      backdropPath: element.backdrop_path,\n      genres: element.genres,\n      id: element.id,\n      originalLanguage: element.original_language,\n      originalTitle: element.original_title,\n      overview: element.overview,\n      popularity: element.popularity,\n      posterPath: element.poster_path,\n      releaseDate: element.release_date,\n      title: element.title,\n      video: element.video,\n      voteAverage: element.vote_average,\n      voteCount: element.vote_count,\n      budget: element.budget,\n      runtime: element.runtime,\n      tagline: element.tagline,\n    };\n  }\n}\n","C:\\repos\\l1nks-movie-app\\client\\src\\services\\api.ts",["190","191"],"import axios, { AxiosInstance } from \"axios\";\nimport dotenv from \"dotenv\";\nimport { BASE_URL } from \"../constants/constants\";\n\ndotenv.config();\nclass Api {\n  private token: string | undefined;\n\n  private url: string;\n\n  client: AxiosInstance | null;\n\n  constructor(url: string, token: string | undefined) {\n    this.token = token;\n    this.client = null;\n    this.url = url;\n  }\n\n  init = () => {\n    const headers: any = {\n      Accept: \"application/json\",\n    };\n\n    if (this.token) {\n      headers.Authorization = `Bearer ${this.token}`;\n    }\n\n    this.client = axios.create({\n      baseURL: this.url,\n      timeout: 31000,\n      withCredentials: false,\n      headers,\n    });\n\n    return this.client;\n  };\n\n  getGenres = (params = {}) => {\n    return this.init().get(\"/genre/movie/list\");\n  };\n\n  getFilms = (type: string, params = {}) => {\n    return this.init().get(`/movie/${type}`, {\n      params,\n    });\n  };\n\n  getDetails = (id: string) => {\n    return this.init().get(`/movie/${id}`);\n  };\n\n  getReviews = (id:string) => {\n    return this.init().get(`/movie/${id}/reviews`);\n  };\n\n  getVideo = (id: string) => {\n    return this.init().get(`/movie/${id}/videos`);\n  };\n\n  discoverFilms = (params = {}) => {\n    return this.init().get(\"/discover/movie\", {\n      params,\n    });\n  };\n}\n\nexport default new Api(\n  BASE_URL,\n  process.env.REACT_APP_API_TOKEN,\n);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\film-details\\film-details.tsx",["192","193","194","195","196","197","198","199","200","201"],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\main\\main.tsx",["202"],"import React, { memo, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Menu from \"../menu/menu\";\nimport Content from \"../content/content\";\nimport { isStringsEqual } from \"../../utils/helpers\";\nimport { TGenre } from \"../../redux/reducers/genre/types/types\";\nimport { changeActiveGenre } from \"../../redux/reducers/genre/reducer\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\n\nconst Main: React.FC = () => {\n  const dispatch = useDispatch();\n  const genres = useSelector((state: IRootState) => state.genres.list);\n  const activeGenre = useSelector((state: IRootState) => state.genres.active);\n\n  const handleGenreClick = useCallback((genre: TGenre) => {\n    if (isStringsEqual(genre.name, activeGenre)) return;\n\n    dispatch(changeActiveGenre(genre.id));\n  }, [activeGenre]);\n  return (\n    <main className=\"main content-wrapper\">\n      <Menu\n        className=\"genre-list\"\n        render={(className: string) => {\n          return genres.map((genre: TGenre) => {\n            const isActive = isStringsEqual(activeGenre, genre.name);\n            const elementClass = `${className} ${isActive ? \"menu__item--active\" : \"\"}`;\n            return <li role=\"presentation\" key={genre.id} className={elementClass} onClick={() => handleGenreClick(genre)}>{genre.name}</li>;\n          });\n        }}\n      />\n      <Content />\n    </main>\n  );\n};\n\nexport default memo(Main);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\loginForm\\loginForm.tsx",["203"],"import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport { AiOutlineMail } from \"react-icons/ai\";\nimport { RiLockPasswordLine } from \"react-icons/ri\";\nimport { setUserData } from \"../../redux/reducers/user/reducer\";\nimport { ENDPOINTS } from \"../../constants/constants\";\n\ninterface ILoginFormProps {\n  successCb?: (args?: any) => void\n}\n\nconst LoginForm: React.FC<ILoginFormProps> = ({ successCb }: ILoginFormProps) => {\n  const dispatch = useDispatch();\n  const [data, setData] = useState({});\n  const [formStatus, setFormStatus] = useState({\n    loading: false,\n    error: false,\n    message: \"\",\n  });\n\n  const handleFormSubmit = async (evt: React.FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    setFormStatus((prevState) => ({ ...prevState, loading: true, error: false }));\n    try {\n      const response = await axios.post(\n        ENDPOINTS.login,\n        data,\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n          baseURL: \"/\",\n        },\n      );\n      if (response.status === 200) {\n        dispatch(setUserData(response.data));\n        // Если был передан callback, вызываем его\n        if (successCb) successCb();\n      }\n    } catch (e) {\n      const { error } = e.response.data;\n      setFormStatus({ error: true, loading: false, message: error });\n    }\n  };\n  const handleInputChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    const { value, name } = evt.target;\n    setData((prevState) => {\n      return { ...prevState, [name]: value };\n    });\n  };\n  return (\n    <form className=\"form\" onSubmit={handleFormSubmit}>\n      <p>Авторизация</p>\n      <div className=\"form__input-wrapper\">\n        <input name=\"email\" onChange={handleInputChange} className=\"form__input\" type=\"email\" placeholder=\"Email\" />\n        <span className=\"form__icon-wrapper\">\n          <AiOutlineMail />\n        </span>\n      </div>\n      <div className=\"form__input-wrapper\">\n        <input name=\"password\" onChange={handleInputChange} className=\"form__input\" type=\"password\" placeholder=\"Password\" />\n        <span className=\"form__icon-wrapper\">\n          <RiLockPasswordLine />\n        </span>\n      </div>\n      <button className=\"button button--orange\" type=\"submit\">\n        {!formStatus.loading && \"Войти\"}\n        {formStatus.loading && \"Загружается\"}\n      </button>\n      {formStatus.error && <div className=\"error form__error\">{formStatus.message}</div>}\n    </form>\n  );\n};\n\nexport default LoginForm;\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\popup\\popup.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\registerForm\\registerForm.tsx",["204"],"import React, { memo, useState } from \"react\";\nimport axios from \"axios\";\nimport { ENDPOINTS } from \"../../constants/constants\";\n\ninterface IRegisterFormProps {\n  successCb?: (args?: any) => void\n}\n\nconst RegisterForm: React.FC<IRegisterFormProps> = ({ successCb }: IRegisterFormProps) => {\n  const [data, setData] = useState({});\n  const [formStatus, setFormStatus] = useState({\n    loading: false,\n    error: false,\n    message: \"\",\n  });\n\n  const handleFormSubmit = async (evt: React.FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    setFormStatus((prevState) => ({ ...prevState, loading: true, error: false }));\n    try {\n      const response = await axios.post(\n        ENDPOINTS.registration,\n        data,\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n          baseURL: \"/\",\n        },\n      );\n      if (response.status === 200) {\n        if (successCb) successCb();\n      }\n    } catch (e) {\n      const { error } = e.response.data;\n      setFormStatus({ error: true, loading: false, message: error });\n    }\n  };\n\n  const handleInputChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    const { value, name } = evt.target;\n    setData((prevState) => {\n      return { ...prevState, [name]: value };\n    });\n  };\n  return (\n    <form className=\"form\" onSubmit={handleFormSubmit}>\n      <p>Регистрация</p>\n      <div className=\"form__input-wrapper\">\n        <input onChange={handleInputChange} name=\"username\" className=\"form__input\" type=\"text\" placeholder=\"Username\" />\n        <span className=\"form__icon-wrapper\">\n          <i className=\"fa fa-user\" />\n        </span>\n      </div>\n      <div className=\"form__input-wrapper\">\n        <input onChange={handleInputChange} name=\"email\" className=\"form__input\" type=\"email\" placeholder=\"Email\" />\n        <span className=\"form__icon-wrapper\">\n          <i className=\"fa fa-user\" />\n        </span>\n      </div>\n      <div className=\"form__input-wrapper\">\n        <input onChange={handleInputChange} name=\"password\" className=\"form__input\" type=\"text\" placeholder=\"Password\" />\n        <span className=\"form__icon-wrapper\">\n          <i className=\"fa fa-key\" />\n        </span>\n      </div>\n      <div className=\"form__input-wrapper\">\n        <input onChange={handleInputChange} name=\"password-repeat\" className=\"form__input\" type=\"text\" placeholder=\"Repeat password\" />\n        <span className=\"form__icon-wrapper\">\n          <i className=\"fa fa-key\" />\n        </span>\n      </div>\n      <button className=\"button button--orange\" type=\"submit\">\n        {!formStatus.loading && \"Войти\"}\n        {formStatus.loading && \"Загружается\"}\n      </button>\n    </form>\n  );\n};\n\nexport default memo(RegisterForm);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\menu\\menu.tsx",["205"],"import React, { memo } from \"react\";\n\ninterface IMenuListProps {\n  className?: string; // класс для родительского компонента\n  render?: any;\n  direction?: string;\n}\n\nconst Menu: React.FC<IMenuListProps> = ({\n  className, render, direction,\n}: IMenuListProps) => {\n  return (\n    <nav className={`menu ${className}`}>\n      <ul className={`menu__list ${direction && \"menu__list--row\"}`}>\n        {render(\"menu__item\")}\n      </ul>\n    </nav>\n  );\n};\n\nMenu.defaultProps = {\n  className: \"\",\n  render: () => <li>1</li>,\n  direction: \"\",\n};\n\nexport default memo(Menu);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\content\\content.tsx",["206","207","208","209"],"import React, {\n  memo, useCallback, useEffect, useState, useRef,\n} from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport debounce from \"lodash.debounce\";\nimport Menu from \"../menu/menu\";\nimport { CONSTANT_GENRES } from \"../../constants/constants\";\nimport Search from \"../search/search\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\nimport { isStringsEqual } from \"../../utils/helpers\";\nimport { changeCategory } from \"../../redux/reducers/genre/reducer\";\nimport { TCategoryListItem } from \"../../redux/reducers/genre/types/types\";\nimport Films from \"../films/films\";\nimport Loader from \"../loader/loader\";\nimport { IClientFilmData } from \"../../redux/reducers/films/types/types\";\nimport { changeSearchStatus } from \"../../redux/reducers/films/reducer\";\n\nconst Content: React.FC = () => {\n  const [filmsToShow, setFilmsToShow] = useState<Array<IClientFilmData>>([]);\n  const dispatch = useDispatch();\n  const searchInputRef = useRef<HTMLInputElement>(null);\n  const filmCategory = useSelector((state: IRootState) => state.genres.category);\n  const activeGenre = useSelector((state: IRootState) => state.genres.active);\n  const genreCategory = useSelector((state: IRootState) => state.genres.category);\n  const isFilmLoading = useSelector((state: IRootState) => state.films.loading);\n  const isSearching = useSelector((state: IRootState) => state.films.isSearching);\n  const films = useSelector((state: IRootState) => state.films.films);\n\n  const handleCategoryClick = useCallback((category: TCategoryListItem) => {\n    if (isStringsEqual(category.name, filmCategory)) return;\n    dispatch(changeCategory(category.id));\n  }, [filmCategory]);\n\n  useEffect(() => {\n    setFilmsToShow(films);\n    // Если обновились фильмы, чистим строку поиска\n    if (searchInputRef?.current) {\n      dispatch(changeSearchStatus(false));\n    }\n  }, [films]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [activeGenre, genreCategory]);\n\n  // Используем debounce, чтобы не вызывать каждый поиск фильмов при вводе текста в строку поиска\n  const handleSearchInput = useCallback(debounce((evt: React.ChangeEvent<HTMLInputElement>) => {\n    if (evt.target.value === \"\") {\n      setFilmsToShow(films);\n      dispatch(changeSearchStatus(false));\n      return;\n    }\n\n    const filterFilms = films.filter((film) => {\n      const filmTitle = film.title.toLowerCase();\n\n      return filmTitle.indexOf(evt.target.value.toLowerCase()) !== -1;\n    });\n\n    setFilmsToShow(filterFilms);\n\n    // Если находимся в поиске, то выходим из функции, либо диспатчим значение true\n    if (isSearching) return;\n    dispatch(changeSearchStatus(true));\n  }, 500), [films, isSearching]);\n  return (\n    <div className=\"content\">\n      <div className=\"content__header\">\n        {\n          activeGenre === \"All\"\n          && (\n          <Menu\n            direction=\"row\"\n            render={(className: string) => {\n              return CONSTANT_GENRES.map((movie: any) => {\n                const isActive = isStringsEqual(movie.name, filmCategory);\n                const elementClass = `${className} ${isActive ? \"menu__item--active\" : \"\"}`;\n                return <li role=\"presentation\" className={elementClass} key={movie.id} onClick={() => handleCategoryClick(movie)}>{movie.name}</li>;\n              });\n            }}\n          />\n          )\n        }\n        <Search className=\"content__search\" callback={handleSearchInput} ref={searchInputRef} />\n      </div>\n      <div className=\"content__films\">\n        { isFilmLoading ? <Loader /> : <Films films={filmsToShow} />}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Content);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\films\\films.tsx",["210"],"import React, { memo, useCallback, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { IClientFilmData } from \"../../redux/reducers/films/types/types\";\nimport FilmCard from \"../film-card/film-card\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\nimport Loader from \"../loader/loader\";\nimport { loadAdditionFilmsRequest } from \"../../redux/reducers/films/reducer\";\nimport { RoutePathes } from \"../../constants/constants\";\n\ninterface IFilmsProps {\n  className?: string\n  films: Array<IClientFilmData>\n}\n\nconst Films = ({ className, films }: IFilmsProps) => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector((state: IRootState) => state.films.loadingAdditionFilms);\n  const isSearching = useSelector((state: IRootState) => state.films.isSearching);\n\n  const handleScroll = () => {\n    if (((window.innerHeight + window.scrollY) >= document.body.offsetHeight) && !isSearching && !isLoading) {\n      dispatch(loadAdditionFilmsRequest());\n    }\n  };\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [isSearching, films, isLoading]);\n\n  const createFilmsCards = useCallback(() => {\n    return films.map((film: IClientFilmData) => {\n      const { id, ...props } = film;\n      return <Link key={film.id} to={`${RoutePathes.FILM_DETAILS}/${id}`}><FilmCard data={props} /></Link>;\n    });\n  }, [films]);\n  return (\n    <>\n      <div className={`films ${className}`}>\n        {createFilmsCards()}\n      </div>\n      { isLoading\n      && (\n      <div className=\"films__loader\">\n        <Loader />\n      </div>\n      )}\n    </>\n  );\n};\n\nFilms.defaultProps = {\n  className: \"\",\n};\n\nexport default memo(Films);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\search\\search.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\film-card\\film-card.tsx",[],{"ruleId":"211","severity":1,"message":"212","line":5,"column":8,"nodeType":"213","messageId":"214","endLine":5,"endColumn":11},{"ruleId":"215","replacedBy":"216"},{"ruleId":"217","replacedBy":"218"},{"ruleId":"219","replacedBy":"220"},{"ruleId":"221","replacedBy":"222"},{"ruleId":"223","replacedBy":"224"},{"ruleId":"225","replacedBy":"226"},{"ruleId":"227","replacedBy":"228"},{"ruleId":"211","severity":1,"message":"229","line":2,"column":19,"nodeType":"213","messageId":"214","endLine":2,"endColumn":25},{"ruleId":"211","severity":1,"message":"230","line":7,"column":23,"nodeType":"213","messageId":"214","endLine":7,"endColumn":32},{"ruleId":"211","severity":1,"message":"231","line":2,"column":18,"nodeType":"213","messageId":"214","endLine":2,"endColumn":26},{"ruleId":"232","severity":1,"message":"233","line":5,"column":16,"nodeType":"234","messageId":"235","endLine":5,"endColumn":36},{"ruleId":"211","severity":1,"message":"236","line":54,"column":7,"nodeType":"213","messageId":"214","endLine":54,"endColumn":15},{"ruleId":"211","severity":1,"message":"231","line":3,"column":10,"nodeType":"213","messageId":"214","endLine":3,"endColumn":18},{"ruleId":"211","severity":1,"message":"237","line":6,"column":8,"nodeType":"213","messageId":"214","endLine":6,"endColumn":12},{"ruleId":"238","severity":1,"message":"239","line":46,"column":6,"nodeType":"240","endLine":46,"endColumn":8,"suggestions":"241"},{"ruleId":"232","severity":1,"message":"233","line":18,"column":16,"nodeType":"234","messageId":"235","endLine":18,"endColumn":42},{"ruleId":"211","severity":1,"message":"242","line":1,"column":38,"nodeType":"213","messageId":"214","endLine":1,"endColumn":45},{"ruleId":"211","severity":1,"message":"243","line":3,"column":10,"nodeType":"213","messageId":"214","endLine":3,"endColumn":28},{"ruleId":"244","severity":1,"message":"245","line":45,"column":69,"nodeType":"246","messageId":"247","endLine":45,"endColumn":72,"suggestions":"248"},{"ruleId":"249","severity":1,"message":"250","line":32,"column":11,"nodeType":"251","messageId":"252","endLine":32,"endColumn":22},{"ruleId":"249","severity":1,"message":"250","line":59,"column":11,"nodeType":"251","messageId":"252","endLine":59,"endColumn":22},{"ruleId":"249","severity":1,"message":"250","line":80,"column":11,"nodeType":"251","messageId":"252","endLine":80,"endColumn":22},{"ruleId":"232","severity":1,"message":"233","line":84,"column":16,"nodeType":"234","messageId":"235","endLine":84,"endColumn":42},{"ruleId":"211","severity":1,"message":"253","line":1,"column":23,"nodeType":"213","messageId":"214","endLine":1,"endColumn":36},{"ruleId":"211","severity":1,"message":"242","line":1,"column":38,"nodeType":"213","messageId":"214","endLine":1,"endColumn":45},{"ruleId":"211","severity":1,"message":"231","line":1,"column":10,"nodeType":"213","messageId":"214","endLine":1,"endColumn":18},{"ruleId":"211","severity":1,"message":"254","line":1,"column":27,"nodeType":"213","messageId":"214","endLine":1,"endColumn":33},{"ruleId":"211","severity":1,"message":"255","line":5,"column":8,"nodeType":"213","messageId":"214","endLine":5,"endColumn":16},{"ruleId":"249","severity":1,"message":"250","line":35,"column":23,"nodeType":"251","messageId":"252","endLine":35,"endColumn":34},{"ruleId":"249","severity":1,"message":"250","line":40,"column":23,"nodeType":"251","messageId":"252","endLine":40,"endColumn":34},{"ruleId":"249","severity":1,"message":"250","line":52,"column":11,"nodeType":"251","messageId":"252","endLine":52,"endColumn":22},{"ruleId":"238","severity":1,"message":"256","line":111,"column":6,"nodeType":"240","endLine":111,"endColumn":16,"suggestions":"257"},{"ruleId":"232","severity":1,"message":"233","line":4,"column":3,"nodeType":"258","messageId":"235","endLine":4,"endColumn":52},{"ruleId":"232","severity":1,"message":"233","line":23,"column":3,"nodeType":"258","messageId":"235","endLine":23,"endColumn":53},{"ruleId":"244","severity":1,"message":"245","line":20,"column":20,"nodeType":"246","messageId":"247","endLine":20,"endColumn":23,"suggestions":"259"},{"ruleId":"211","severity":1,"message":"260","line":38,"column":16,"nodeType":"213","messageId":"214","endLine":38,"endColumn":22},{"ruleId":"211","severity":1,"message":"261","line":5,"column":10,"nodeType":"213","messageId":"214","endLine":5,"endColumn":20},{"ruleId":"244","severity":1,"message":"245","line":23,"column":11,"nodeType":"246","messageId":"247","endLine":23,"endColumn":14,"suggestions":"262"},{"ruleId":"249","severity":1,"message":"250","line":44,"column":7,"nodeType":"251","messageId":"252","endLine":44,"endColumn":18},{"ruleId":"238","severity":1,"message":"263","line":52,"column":6,"nodeType":"240","endLine":52,"endColumn":10,"suggestions":"264"},{"ruleId":"249","severity":1,"message":"250","line":66,"column":7,"nodeType":"251","messageId":"252","endLine":66,"endColumn":18},{"ruleId":"238","severity":1,"message":"265","line":68,"column":6,"nodeType":"240","endLine":68,"endColumn":23,"suggestions":"266"},{"ruleId":"238","severity":1,"message":"267","line":84,"column":6,"nodeType":"240","endLine":84,"endColumn":46,"suggestions":"268"},{"ruleId":"249","severity":1,"message":"250","line":87,"column":5,"nodeType":"251","messageId":"252","endLine":87,"endColumn":16},{"ruleId":"244","severity":1,"message":"245","line":91,"column":20,"nodeType":"246","messageId":"247","endLine":91,"endColumn":23,"suggestions":"269"},{"ruleId":"238","severity":1,"message":"270","line":98,"column":6,"nodeType":"240","endLine":98,"endColumn":19,"suggestions":"271"},{"ruleId":"238","severity":1,"message":"272","line":19,"column":6,"nodeType":"240","endLine":19,"endColumn":19,"suggestions":"273"},{"ruleId":"244","severity":1,"message":"245","line":10,"column":23,"nodeType":"246","messageId":"247","endLine":10,"endColumn":26,"suggestions":"274"},{"ruleId":"244","severity":1,"message":"245","line":6,"column":23,"nodeType":"246","messageId":"247","endLine":6,"endColumn":26,"suggestions":"275"},{"ruleId":"244","severity":1,"message":"245","line":5,"column":12,"nodeType":"246","messageId":"247","endLine":5,"endColumn":15,"suggestions":"276"},{"ruleId":"238","severity":1,"message":"272","line":32,"column":6,"nodeType":"240","endLine":32,"endColumn":20,"suggestions":"277"},{"ruleId":"238","severity":1,"message":"239","line":40,"column":6,"nodeType":"240","endLine":40,"endColumn":13,"suggestions":"278"},{"ruleId":"238","severity":1,"message":"279","line":47,"column":29,"nodeType":"213","endLine":47,"endColumn":40},{"ruleId":"244","severity":1,"message":"245","line":75,"column":50,"nodeType":"246","messageId":"247","endLine":75,"endColumn":53,"suggestions":"280"},{"ruleId":"238","severity":1,"message":"281","line":32,"column":6,"nodeType":"240","endLine":32,"endColumn":37,"suggestions":"282"},"@typescript-eslint/no-unused-vars","'App' is defined but never used.","Identifier","unusedVar","jsx-a11y/accessible-emoji",[],"lines-around-directive",["283"],"no-spaced-func",["284"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"'Action' is defined but never used.","'RootState' is defined but never used.","'Redirect' is defined but never used.","@typescript-eslint/explicit-module-boundary-types","Missing return type on function.","FunctionDeclaration","missingReturnType","'CORS_URL' is assigned a value but never used.","'Main' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["285"],"'current' is defined but never used.","'TUserFavoriteFilms' is defined but never used.","@typescript-eslint/no-explicit-any","Unexpected any. Specify a different type.","TSAnyKeyword","unexpectedAny",["286","287"],"no-console","Unexpected console statement.","MemberExpression","unexpected","'PayloadAction' is defined but never used.","'Switch' is defined but never used.","'NotFound' is defined but never used.","React Hook useMemo has a missing dependency: 'userMenuActions'. Either include it or remove the dependency array.",["288"],"FunctionExpression",["289","290"],"'params' is assigned a value but never used.","'FaRegHeart' is defined but never used.",["291","292"],"React Hook useEffect has a missing dependency: 'getFilmDetailsData'. Either include it or remove the dependency array.",["293"],"React Hook useCallback has missing dependencies: 'dispatch' and 'id'. Either include them or remove the dependency array.",["294"],"React Hook useMemo has a missing dependency: 'handleFavoriteIconFilmClick'. Either include it or remove the dependency array.",["295"],["296","297"],"React Hook useMemo has an unnecessary dependency: 'id'. Either exclude it or remove the dependency array.",["298"],"React Hook useCallback has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["299"],["300","301"],["302","303"],["304","305"],["306"],["307"],"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.",["308","309"],"React Hook useEffect has a missing dependency: 'handleScroll'. Either include it or remove the dependency array.",["310"],"padding-line-between-statements","func-call-spacing",{"desc":"311","fix":"312"},{"messageId":"313","fix":"314","desc":"315"},{"messageId":"316","fix":"317","desc":"318"},{"desc":"319","fix":"320"},{"messageId":"313","fix":"321","desc":"315"},{"messageId":"316","fix":"322","desc":"318"},{"messageId":"313","fix":"323","desc":"315"},{"messageId":"316","fix":"324","desc":"318"},{"desc":"325","fix":"326"},{"desc":"327","fix":"328"},{"desc":"329","fix":"330"},{"messageId":"313","fix":"331","desc":"315"},{"messageId":"316","fix":"332","desc":"318"},{"desc":"333","fix":"334"},{"desc":"335","fix":"336"},{"messageId":"313","fix":"337","desc":"315"},{"messageId":"316","fix":"338","desc":"318"},{"messageId":"313","fix":"339","desc":"315"},{"messageId":"316","fix":"340","desc":"318"},{"messageId":"313","fix":"341","desc":"315"},{"messageId":"316","fix":"342","desc":"318"},{"desc":"343","fix":"344"},{"desc":"345","fix":"346"},{"messageId":"313","fix":"347","desc":"315"},{"messageId":"316","fix":"348","desc":"318"},{"desc":"349","fix":"350"},"Update the dependencies array to be: [dispatch]",{"range":"351","text":"352"},"suggestUnknown",{"range":"353","text":"354"},"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct.","suggestNever",{"range":"353","text":"355"},"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of.","Update the dependencies array to be: [userMenuActions, userName]",{"range":"356","text":"357"},{"range":"358","text":"354"},{"range":"358","text":"355"},{"range":"359","text":"354"},{"range":"359","text":"355"},"Update the dependencies array to be: [getFilmDetailsData, id]",{"range":"360","text":"361"},"Update the dependencies array to be: [details?.data?.backdropPath, dispatch, id, userID]",{"range":"362","text":"363"},"Update the dependencies array to be: [authStatus, favoriteFilms, id, handleFavoriteIconFilmClick]",{"range":"364","text":"365"},{"range":"366","text":"354"},{"range":"366","text":"355"},"Update the dependencies array to be: [details]",{"range":"367","text":"368"},"Update the dependencies array to be: [activeGenre, dispatch]",{"range":"369","text":"370"},{"range":"371","text":"354"},{"range":"371","text":"355"},{"range":"372","text":"354"},{"range":"372","text":"355"},{"range":"373","text":"354"},{"range":"373","text":"355"},"Update the dependencies array to be: [dispatch, filmCategory]",{"range":"374","text":"375"},"Update the dependencies array to be: [dispatch, films]",{"range":"376","text":"377"},{"range":"378","text":"354"},{"range":"378","text":"355"},"Update the dependencies array to be: [isSearching, films, isLoading, handleScroll]",{"range":"379","text":"380"},[1708,1710],"[dispatch]",[1444,1447],"unknown","never",[3153,3163],"[userMenuActions, userName]",[416,419],[948,951],[1965,1969],"[getFilmDetailsData, id]",[2376,2393],"[details?.data?.backdropPath, dispatch, id, userID]",[2899,2939],"[authStatus, favoriteFilms, id, handleFavoriteIconFilmClick]",[3129,3132],[3410,3423],"[details]",[819,832],"[activeGenre, dispatch]",[383,386],[183,186],[136,139],[1665,1679],"[dispatch, filmCategory]",[1871,1878],"[dispatch, films]",[2966,2969],[1221,1252],"[isSearching, films, isLoading, handleScroll]"]