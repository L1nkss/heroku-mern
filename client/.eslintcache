[{"C:\\repos\\l1nks-movie-app\\client\\src\\index.tsx":"1","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\store.ts":"2","C:\\repos\\l1nks-movie-app\\client\\src\\utils\\history.ts":"3","C:\\repos\\l1nks-movie-app\\client\\src\\routes\\routes.tsx":"4","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\sagas\\sagas.ts":"5","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\rootReducer.ts":"6","C:\\repos\\l1nks-movie-app\\client\\src\\constants\\constants.ts":"7","C:\\repos\\l1nks-movie-app\\client\\src\\components\\app\\app.tsx":"8","C:\\repos\\l1nks-movie-app\\client\\src\\components\\error\\error.tsx":"9","C:\\repos\\l1nks-movie-app\\client\\src\\components\\not-found\\not-found.tsx":"10","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\app\\reduser.ts":"11","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\genre\\reducer.ts":"12","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\genre\\saga\\saga.ts":"13","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\user\\reducer.ts":"14","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\saga\\saga.ts":"15","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\reducer.ts":"16","C:\\repos\\l1nks-movie-app\\client\\src\\components\\app\\selectors\\selectors.ts":"17","C:\\repos\\l1nks-movie-app\\client\\src\\routes\\content.tsx":"18","C:\\repos\\l1nks-movie-app\\client\\src\\components\\loader\\loader.tsx":"19","C:\\repos\\l1nks-movie-app\\client\\src\\components\\header\\header.tsx":"20","C:\\repos\\l1nks-movie-app\\client\\src\\utils\\helpers.ts":"21","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\utils\\filmAdapter.ts":"22","C:\\repos\\l1nks-movie-app\\client\\src\\services\\api.ts":"23","C:\\repos\\l1nks-movie-app\\client\\src\\components\\film-details\\film-details.tsx":"24","C:\\repos\\l1nks-movie-app\\client\\src\\components\\main\\main.tsx":"25","C:\\repos\\l1nks-movie-app\\client\\src\\components\\loginForm\\loginForm.tsx":"26","C:\\repos\\l1nks-movie-app\\client\\src\\components\\registerForm\\registerForm.tsx":"27","C:\\repos\\l1nks-movie-app\\client\\src\\components\\menu\\menu.tsx":"28","C:\\repos\\l1nks-movie-app\\client\\src\\components\\content\\content.tsx":"29","C:\\repos\\l1nks-movie-app\\client\\src\\components\\films\\films.tsx":"30","C:\\repos\\l1nks-movie-app\\client\\src\\components\\search\\search.tsx":"31","C:\\repos\\l1nks-movie-app\\client\\src\\components\\film-card\\film-card.tsx":"32","C:\\repos\\l1nks-movie-app\\client\\src\\components\\private-route\\private-route.tsx":"33","C:\\repos\\l1nks-movie-app\\client\\src\\components\\popup\\popup.tsx":"34","C:\\repos\\l1nks-movie-app\\client\\src\\components\\redirect-login\\redirect-login.tsx":"35"},{"size":496,"mtime":1611409233438,"results":"36","hashOfConfig":"37"},{"size":520,"mtime":1611409233439,"results":"38","hashOfConfig":"37"},{"size":114,"mtime":1609703378370,"results":"39","hashOfConfig":"37"},{"size":605,"mtime":1611409233439,"results":"40","hashOfConfig":"37"},{"size":263,"mtime":1611409233439,"results":"41","hashOfConfig":"37"},{"size":359,"mtime":1611409233438,"results":"42","hashOfConfig":"37"},{"size":1353,"mtime":1611846024175,"results":"43","hashOfConfig":"37"},{"size":2241,"mtime":1611423500706,"results":"44","hashOfConfig":"37"},{"size":147,"mtime":1611409233438,"results":"45","hashOfConfig":"37"},{"size":149,"mtime":1611409233438,"results":"46","hashOfConfig":"37"},{"size":394,"mtime":1611409233438,"results":"47","hashOfConfig":"37"},{"size":1649,"mtime":1611409233438,"results":"48","hashOfConfig":"37"},{"size":792,"mtime":1611833782392,"results":"49","hashOfConfig":"37"},{"size":1806,"mtime":1611517259652,"results":"50","hashOfConfig":"37"},{"size":3264,"mtime":1611409233438,"results":"51","hashOfConfig":"37"},{"size":1435,"mtime":1611409233438,"results":"52","hashOfConfig":"37"},{"size":505,"mtime":1611409233438,"results":"53","hashOfConfig":"37"},{"size":719,"mtime":1611768615359,"results":"54","hashOfConfig":"37"},{"size":401,"mtime":1611409233438,"results":"55","hashOfConfig":"37"},{"size":3928,"mtime":1611767927350,"results":"56","hashOfConfig":"37"},{"size":363,"mtime":1611409233439,"results":"57","hashOfConfig":"37"},{"size":1529,"mtime":1611409233438,"results":"58","hashOfConfig":"37"},{"size":1372,"mtime":1611577205963,"results":"59","hashOfConfig":"37"},{"size":5139,"mtime":1611768600457,"results":"60","hashOfConfig":"37"},{"size":1424,"mtime":1611409233438,"results":"61","hashOfConfig":"37"},{"size":2568,"mtime":1611495210133,"results":"62","hashOfConfig":"37"},{"size":2963,"mtime":1611767298863,"results":"63","hashOfConfig":"37"},{"size":596,"mtime":1609703370883,"results":"64","hashOfConfig":"37"},{"size":3308,"mtime":1611837674763,"results":"65","hashOfConfig":"37"},{"size":1974,"mtime":1611838195449,"results":"66","hashOfConfig":"37"},{"size":678,"mtime":1611409233438,"results":"67","hashOfConfig":"37"},{"size":1782,"mtime":1611576371221,"results":"68","hashOfConfig":"37"},{"size":646,"mtime":1611757273358,"results":"69","hashOfConfig":"37"},{"size":1111,"mtime":1611837321930,"results":"70","hashOfConfig":"37"},{"size":169,"mtime":1611757216866,"results":"71","hashOfConfig":"37"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"75"},"1oio6kb",{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"75"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"75"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"75"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"75"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"75"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"75"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"75"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"75"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"75"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"75"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"75"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"75"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"75"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"75"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"75"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"75"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"75"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"75"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"75"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"75"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"158"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"165","usedDeprecatedRules":"75"},"C:\\repos\\l1nks-movie-app\\client\\src\\index.tsx",["166"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Router } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/app/app\";\nimport history from \"./utils/history\";\n\nimport store from \"./redux/store\";\nimport \"./style/style.scss\";\nimport { AppRoutes } from \"./routes/routes\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <AppRoutes />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\"),\n);\n",["167","168","169","170","171","172","173"],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\store.ts",["174","175"],"import {\n  configureStore, Action, getDefaultMiddleware,\n} from \"@reduxjs/toolkit\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSaga from \"./sagas/sagas\";\n\nimport rootReducer, { RootState } from \"./reducers/rootReducer\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = configureStore({\n  reducer: rootReducer,\n  middleware: [...getDefaultMiddleware({ thunk: false }), sagaMiddleware],\n});\n\nexport type AppDispatch = typeof store.dispatch;\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","C:\\repos\\l1nks-movie-app\\client\\src\\utils\\history.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\routes\\routes.tsx",["176"],"import {\n  Switch, Route, Redirect,\n} from \"react-router-dom\";\nimport { RoutePathes } from \"../constants/constants\";\nimport App from \"../components/app/app\";\nimport ErrorPage from \"../components/error/error\";\nimport NotFound from \"../components/not-found/not-found\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport const AppRoutes: React.FC = () => {\n  return (\n    <Switch>\n      <Route path={RoutePathes.ERROR} exact component={ErrorPage} />\n      <Route path={RoutePathes.ROOT} component={App} />\n      <Route path={RoutePathes.NOT_FOUND} component={NotFound} />\n    </Switch>\n  );\n};\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\sagas\\sagas.ts",["177"],"import { all } from \"redux-saga/effects\";\nimport watchGenreSaga from \"../reducers/genre/saga/saga\";\nimport watchFilmsSaga from \"../reducers/films/saga/saga\";\n\nexport default function* rootSaga() {\n  yield all([\n    watchGenreSaga(),\n    watchFilmsSaga(),\n  ]);\n}\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\rootReducer.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\constants\\constants.ts",["178"],"export const RoutePathes = {\n  ROOT: \"/\",\n  ERROR: \"/error\",\n  FILM_DETAILS: \"/film-details\",\n  NOT_FOUND: \"/not-found\",\n  REDIRECT_LOGIN: \"/redirect-login\",\n  USER_FAVORITE_FILMS: \"/user-favorite-films\",\n};\n\nexport const ENDPOINTS = {\n  registration: \"api/auth/signup\",\n  login: \"api/auth/signin\",\n  checkToken: \"/api/checkToken\",\n};\n\nexport const GENRE_TYPE_ALL = [\n  {\n    id: 63467,\n    name: \"All\",\n  },\n];\n\nexport const REGULARS = {\n  SEARCH_YEAR: \"^\\\\d{4}\",\n};\n\nexport const CONSTANT_GENRES = [\n  {\n    id: 6542,\n    name: \"Now playing\",\n  },\n  {\n    id: 5655,\n    name: \"Popular\",\n  },\n  {\n    id: 6571,\n    name: \"Top Rated\",\n  },\n  {\n    id: 7823,\n    name: \"Upcoming\",\n  },\n];\n\nexport const YOUTUBE_LINK = \"https://www.youtube.com/embed/\";\n\n// список жанров для получения данных с сервера\nexport const GENRES_TYPES_TO_SERVER = {\n  [CONSTANT_GENRES[0].name]: \"now_playing\",\n  [CONSTANT_GENRES[1].name]: \"popular\",\n  [CONSTANT_GENRES[2].name]: \"top_rated\",\n  [CONSTANT_GENRES[3].name]: \"upcoming\",\n};\n\nconst CORS_URL = \"https://cors-anywhere.herokuapp.com/\";\n\n// export const IMAGE_URL = \"https://image.tmdb.org/t/p/w342/\";\n\nexport const IMAGE_SIZE_URL = {\n  SMALL: \"https://image.tmdb.org/t/p/w342/\",\n  BIG: \"https://image.tmdb.org/t/p/w1280/\",\n};\n\nexport const BASE_URL = \"https://api.themoviedb.org/3\";\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\app\\app.tsx",["179","180","181"],"import React, { memo, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"../header/header\";\nimport Main from \"../main/main\";\nimport Loader from \"../loader/loader\";\nimport { getGenresRequest } from \"../../redux/reducers/genre/reducer\";\nimport {\n  getUserDataRequest, getUserDataSuccess, getUserDataNoUser,\n} from \"../../redux/reducers/user/reducer\";\nimport { getFilmsRequest } from \"../../redux/reducers/films/reducer\";\nimport { ENDPOINTS } from \"../../constants/constants\";\nimport { isFetchingDone } from \"./selectors/selectors\";\nimport { ContentRoutes } from \"../../routes/content\";\n\nconst App: React.FC = () => {\n  const [isUserAuthChecked, setUserAuthStatus] = useState(false);\n  const dispatch = useDispatch();\n  const isDataLoaded = useSelector(isFetchingDone);\n\n  useEffect(() => {\n    const checkAuthStatus = async () => {\n      dispatch(getUserDataRequest()); // загружаем информацию о пользователе\n      try {\n        const response = await axios.get(ENDPOINTS.checkToken);\n        if (response.status === 200) {\n          const {\n            username, email, id, favoriteFilms,\n          } = response.data;\n          dispatch(getUserDataSuccess({\n            username, email, id, favoriteFilms,\n          }));\n        }\n      } catch (e) {\n        if (e.response.status === 401) {\n          dispatch(getUserDataNoUser());\n        }\n      } finally {\n        setUserAuthStatus(true);\n      }\n    };\n    dispatch(getGenresRequest()); // загружаем жанры\n    dispatch(getFilmsRequest()); // Загружаем фильмы\n    checkAuthStatus(); // проверяем статус авторизацияя\n  }, []);\n\n  return (\n    <div className=\"app\">\n      {\n        // Проверяем, что данные загрузились с сервера и информация о пользователе получена\n        isDataLoaded && isUserAuthChecked\n          ? (\n            <>\n              <Header />\n              <ContentRoutes />\n            </>\n          )\n          : <Loader />\n      }\n    </div>\n  );\n};\n\nexport default memo(App);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\error\\error.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\not-found\\not-found.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\app\\reduser.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\genre\\reducer.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\genre\\saga\\saga.ts",["182"],"import { put, call, takeEvery } from \"redux-saga/effects\";\nimport { getGenresRequest, getGenresSuccess, getGenresError } from \"../reducer\";\nimport api from \"../../../../services/api\";\nimport { GENRE_TYPE_ALL, RoutePathes } from \"../../../../constants/constants\";\nimport history from \"../../../../utils/history\";\n\nfunction* getGenres() {\n  try {\n    const response = yield call(api.getGenres);\n    // добавляем жанры с сервера + константное значение для всех фильмов\n    yield put(getGenresSuccess([...GENRE_TYPE_ALL, ...response.data.genres]));\n  } catch (e) {\n    yield put(getGenresError());\n    history.push(RoutePathes.ERROR);\n  }\n}\n\nexport default function* watchGenreSaga() {\n  yield takeEvery(getGenresRequest.type, getGenres);\n}\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\user\\reducer.ts",["183","184","185"],"import { createSlice, PayloadAction, current } from \"@reduxjs/toolkit\";\nimport { IInitialUserState, TUserData } from \"./types/types\";\nimport { TUserFavoriteFilms } from \"../../../../../server/src/models/user\";\n\nconst defaultUserData = {\n  username: \"\",\n  email: \"\",\n  id: \"\",\n  favoriteFilms: [],\n};\n\nconst initialState: IInitialUserState = {\n  isLogin: false,\n  loading: false,\n  data: defaultUserData,\n};\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    getUserDataRequest(state: IInitialUserState) {\n      return { ...state, loading: true };\n    },\n    getUserDataSuccess(state: IInitialUserState, action: PayloadAction<TUserData>) {\n      return {\n        ...state, loading: false, isLogin: true, data: action.payload,\n      };\n    },\n    setUserData(state: IInitialUserState, action: PayloadAction<TUserData>): void {\n      state.data = action.payload;\n      state.isLogin = true;\n    },\n    // Возможно можно сделать проще через setUserData и передачу пустого экшена\n    setUserDataToDefault(state: IInitialUserState): void {\n      state.data = defaultUserData;\n      state.isLogin = false;\n    },\n    setLoginStatus(state: IInitialUserState, action: PayloadAction<boolean>) {\n      return { ...state, isLogin: action.payload };\n    },\n    getUserDataNoUser(state: IInitialUserState) {\n      return { ...state, loading: false };\n    },\n    addFavoriteFilm(state: IInitialUserState, action: PayloadAction<any>) {\n      return { ...state, data: { ...state.data, favoriteFilms: action.payload } };\n    },\n  },\n});\n\nexport const {\n  setUserData, setUserDataToDefault, setLoginStatus, getUserDataRequest, getUserDataSuccess, getUserDataNoUser, addFavoriteFilm,\n} = userSlice.actions;\n\nexport default userSlice.reducer;\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\saga\\saga.ts",["186","187","188","189"],"import {\n  put, call, takeEvery, select,\n} from \"redux-saga/effects\";\nimport {\n  getFilmsRequest, getFilmsSuccess, loadAdditionFilmsSuccess, loadAdditionFilmsRequest,\n} from \"../reducer\";\nimport { changeCategory, changeActiveGenre } from \"../../genre/reducer\";\nimport { IRootState } from \"../../types/types\";\nimport { GENRES_TYPES_TO_SERVER } from \"../../../../constants/constants\";\nimport api from \"../../../../services/api\";\nimport FilmAdapter from \"../utils/filmAdapter\";\nimport { isStringsEqual } from \"../../../../utils/helpers\";\n\nconst getActiveCategory = (state: IRootState) => state.genres.category;\nconst getActiveGenre = (state: IRootState) => state.genres.active;\nconst getActiveGenreId = (state: IRootState) => {\n  const allGenres = state.genres.list;\n  const activeGenre = state.genres.active;\n  const idx = allGenres.findIndex((genre) => isStringsEqual(genre.name, activeGenre));\n\n  return allGenres[idx].id;\n};\n\nconst getTotalPages = (state: IRootState) => state.films.totalPages;\nconst getCurrentPage = (state: IRootState) => state.films.page;\n\n// Сага для запуска обновления фильмов, если изменился жанр\nfunction* getFilmsWhenGenreUpdated() {\n  try {\n    yield put(getFilmsRequest());\n  } catch (e) {\n    yield console.log(\"error\", e);\n  }\n}\n\n// Сага для загрузки большего количество фильмов\nfunction* getAdditionFilms() {\n  try {\n    let response;\n    const totalPages = yield select(getTotalPages);\n    const currentPage = yield select(getCurrentPage);\n    const activeGenre = yield select(getActiveGenre);\n\n    if (currentPage + 1 <= totalPages) {\n      if (isStringsEqual(activeGenre, \"all\")) {\n        const activeCategory = yield select(getActiveCategory);\n        response = yield call(api.getFilms, GENRES_TYPES_TO_SERVER[activeCategory], {\n          page: currentPage + 1,\n        });\n      } else {\n        const activeGenreId = yield select(getActiveGenreId);\n        response = yield call(api.discoverFilms, { with_genres: activeGenreId, page: currentPage + 1 });\n      }\n      yield put(loadAdditionFilmsSuccess({\n        films: FilmAdapter.transformData(response.data.results),\n      }));\n    }\n  } catch (e) {\n    yield console.log(\"error\", e);\n  }\n}\n\nfunction* getFilms() {\n  try {\n    let response;\n    const activeGenre = yield select(getActiveGenre);\n    if (isStringsEqual(activeGenre, \"all\")) {\n      const activeCategory = yield select(getActiveCategory);\n      response = yield call(api.getFilms, GENRES_TYPES_TO_SERVER[activeCategory]);\n    } else {\n      const activeGenreId = yield select(getActiveGenreId);\n      response = yield call(api.discoverFilms, { with_genres: activeGenreId });\n    }\n    yield put(getFilmsSuccess({\n      films: FilmAdapter.transformData(response.data.results),\n      page: response.data.page,\n      totalPages: response.data.total_pages,\n    }));\n  } catch (e) {\n    yield console.log(\"error\", e);\n  }\n}\n\nexport default function* watchFilmsSaga() {\n  yield takeEvery(getFilmsRequest.type, getFilms);\n  yield takeEvery(changeCategory.type, getFilmsWhenGenreUpdated);\n  yield takeEvery(changeActiveGenre.type, getFilmsWhenGenreUpdated);\n  yield takeEvery(loadAdditionFilmsRequest.type, getAdditionFilms);\n}\n","C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\reducer.ts",["190","191"],"import { createSlice, PayloadAction, current } from \"@reduxjs/toolkit\";\nimport { IClientFilmData } from \"./types/types\";\n\nexport interface IFilmState {\n  films: Array<IClientFilmData>,\n  loading: boolean,\n  error: boolean\n  page: number,\n  totalPages: number,\n  loadingAdditionFilms: boolean,\n  isSearching: boolean\n}\n\nconst initialState: IFilmState = {\n  films: [],\n  loading: false,\n  error: false,\n  page: 1,\n  totalPages: 1,\n  loadingAdditionFilms: false,\n  isSearching: false,\n};\n\nconst filmsSlice = createSlice({\n  name: \"films\",\n  initialState,\n  reducers: {\n    getFilmsRequest(state) {\n      return { ...state, loading: true, error: false };\n    },\n    getFilmsSuccess(state, action) {\n      const { totalPages, page, films } = action.payload;\n      return {\n        ...state, loading: false, films, page, totalPages,\n      };\n    },\n    loadAdditionFilmsRequest(state) {\n      return { ...state, loadingAdditionFilms: true };\n    },\n    loadAdditionFilmsSuccess(state, action) {\n      return {\n        ...state, films: [...state.films, ...action.payload.films], page: state.page + 1, loadingAdditionFilms: false,\n      };\n    },\n    changeSearchStatus(state, action) {\n      return { ...state, isSearching: action.payload };\n    },\n  },\n});\n\nexport const {\n  getFilmsRequest, getFilmsSuccess, loadAdditionFilmsSuccess, loadAdditionFilmsRequest, changeSearchStatus,\n} = filmsSlice.actions;\n\nexport default filmsSlice.reducer;\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\app\\selectors\\selectors.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\routes\\content.tsx",["192","193","194"],"import { Redirect, Route, Switch } from \"react-router-dom\";\nimport { RoutePathes } from \"../constants/constants\";\nimport FilmDetails from \"../components/film-details/film-details\";\nimport Main from \"../components/main/main\";\nimport PrivateRoute from \"../components/private-route/private-route\";\nimport RedirectLogin from \"../components/redirect-login/redirect-login\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport const ContentRoutes: React.FC = () => {\n  return (\n    <>\n      <Route path={`${RoutePathes.FILM_DETAILS}/:id?`} exact component={FilmDetails} />\n      <Route path={RoutePathes.REDIRECT_LOGIN} component={RedirectLogin} />\n      <Route path=\"/\" exact component={Main} />\n    </>\n  );\n};\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\loader\\loader.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\header\\header.tsx",["195","196","197","198"],"import React, { memo, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport Menu from \"../menu/menu\";\nimport LoginForm from \"../loginForm/loginForm\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\nimport { setUserDataToDefault } from \"../../redux/reducers/user/reducer\";\nimport RegisterForm from \"../registerForm/registerForm\";\nimport Popup from \"../popup/popup\";\n\n/*\n todo\n не очень красиво с formToShow, исправить по возможности выбор контента для Popup'a\n */\nconst Header: React.FC = () => {\n  const dispatch = useDispatch();\n  const [showPopup, setShowPopup] = useState(false);\n  const [formToShow, setFormToShow] = useState(\"\");\n  const isLogin = useSelector((state: IRootState) => state.user.isLogin);\n  const userName = useSelector((state: IRootState) => state.user.data.username);\n\n  const togglePopupStatus = () => {\n    setShowPopup((prevState) => !prevState);\n  };\n\n  const toggleButtonsClick = () => {\n    if (formToShow === \"login\") return <LoginForm successCb={togglePopupStatus} />;\n    if (formToShow === \"registration\") return <RegisterForm successCb={togglePopupStatus} />;\n    return <></>;\n  };\n  const userMenuActions = [\n    {\n      label: \"Избранные фильмы\",\n      callback: () => console.log(\"Колбэк с фильмами\"),\n      key: 3,\n    },\n    {\n      label: \"Настройки\",\n      callback: () => console.log(\"Колбэк с настройкой\"),\n      key: 1,\n    },\n    {\n      label: \"Выйти\",\n      callback: async () => {\n        try {\n          const response = await axios.post(\"/api/logout\");\n          if (response.status === 200) {\n            dispatch(setUserDataToDefault());\n          }\n        } catch (e) {\n          console.log(\"Ошибка\", e);\n        }\n      },\n      key: 2,\n    },\n  ];\n  const authButtons = useMemo(() => {\n    return (\n      <>\n        <button\n          className=\"button\"\n          type=\"button\"\n          onClick={() => {\n            setFormToShow(\"login\");\n            togglePopupStatus();\n          }}\n        >\n          Логин\n        </button>\n        <button\n          className=\"button button--orange\"\n          type=\"button\"\n          onClick={() => {\n            setFormToShow(\"registration\");\n            togglePopupStatus();\n          }}\n        >\n          Регистрация\n        </button>\n      </>\n    );\n  }, []);\n\n  const userProfile = useMemo(() => {\n    return (\n      <div className=\"header__user-menu\">\n        <h3 className=\"header__user-name\">\n          {userName}\n          <Menu\n            className=\"header__dropdown\"\n            render={(className: string) => {\n              return userMenuActions.map((element) => {\n                return (\n                  <li\n                    role=\"presentation\"\n                    key={element.key}\n                    onKeyDown={element.callback}\n                    onClick={element.callback}\n                    className={className}\n                  >\n                    {element.label}\n                  </li>\n                );\n              });\n            }}\n          />\n        </h3>\n      </div>\n    );\n  }, [userName]);\n  return (\n    <header className=\"header\">\n      <div className=\"content-wrapper header__content\">\n        <h1 className=\"header__title\">\n          <Link to=\"/\">The movie pet project</Link>\n          <p className=\"header__source-link\">\n            provided by\n            <a href=\"https://www.themoviedb.org/?language=en\" rel=\"noreferrer\" target=\"_blank\"> TMD</a>\n          </p>\n        </h1>\n        <>\n          {isLogin ? userProfile : authButtons}\n        </>\n      </div>\n      { showPopup && <Popup handleCloseClick={togglePopupStatus}>{toggleButtonsClick()}</Popup>}\n    </header>\n  );\n};\n\nexport default memo(Header);\n","C:\\repos\\l1nks-movie-app\\client\\src\\utils\\helpers.ts",[],"C:\\repos\\l1nks-movie-app\\client\\src\\redux\\reducers\\films\\utils\\filmAdapter.ts",["199","200"],"import { IClientFilmDetails, IServerFilmData, IServerFilmDetails } from \"../types/types\";\n\nexport default class FilmAdapter {\n  static transformElement(element: IServerFilmData) {\n    return {\n      adult: element.adult,\n      backdropPath: element.backdrop_path,\n      genreIds: element.genre_ids,\n      id: element.id,\n      originalLanguage: element.original_language,\n      originalTitle: element.original_title,\n      overview: element.overview,\n      popularity: element.popularity,\n      posterPath: element.poster_path,\n      releaseDate: element.release_date,\n      title: element.title,\n      video: element.video,\n      voteAverage: element.vote_average,\n      voteCount: element.vote_count,\n    };\n  }\n\n  static transformData(data: Array<IServerFilmData>) {\n    return data.map(this.transformElement);\n  }\n\n  static transformFilmDetailsData(element: IServerFilmDetails): IClientFilmDetails {\n    return {\n      adult: element.adult,\n      backdropPath: element.backdrop_path,\n      genres: element.genres,\n      id: element.id,\n      originalLanguage: element.original_language,\n      originalTitle: element.original_title,\n      overview: element.overview,\n      popularity: element.popularity,\n      posterPath: element.poster_path,\n      releaseDate: element.release_date,\n      title: element.title,\n      video: element.video,\n      voteAverage: element.vote_average,\n      voteCount: element.vote_count,\n      budget: element.budget,\n      runtime: element.runtime,\n      tagline: element.tagline,\n    };\n  }\n}\n","C:\\repos\\l1nks-movie-app\\client\\src\\services\\api.ts",["201","202"],"import axios, { AxiosInstance } from \"axios\";\nimport dotenv from \"dotenv\";\nimport { BASE_URL } from \"../constants/constants\";\n\ndotenv.config();\nclass Api {\n  private token: string | undefined;\n\n  private url: string;\n\n  client: AxiosInstance | null;\n\n  constructor(url: string, token: string | undefined) {\n    this.token = token;\n    this.client = null;\n    this.url = url;\n  }\n\n  init = () => {\n    const headers: any = {\n      Accept: \"application/json\",\n    };\n\n    if (this.token) {\n      headers.Authorization = `Bearer ${this.token}`;\n    }\n\n    this.client = axios.create({\n      baseURL: this.url,\n      timeout: 31000,\n      withCredentials: false,\n      headers,\n    });\n\n    return this.client;\n  };\n\n  getGenres = (params = {}) => {\n    return this.init().get(\"/genre/movie/list\");\n  };\n\n  getFilms = (type: string, params = {}) => {\n    return this.init().get(`/movie/${type}`, {\n      params,\n    });\n  };\n\n  getDetails = (id: string) => {\n    return this.init().get(`/movie/${id}`);\n  };\n\n  getReviews = (id:string) => {\n    return this.init().get(`/movie/${id}/reviews`);\n  };\n\n  getVideo = (id: string) => {\n    return this.init().get(`/movie/${id}/videos`);\n  };\n\n  discoverFilms = (params = {}) => {\n    return this.init().get(\"/discover/movie\", {\n      params,\n    });\n  };\n}\n\nexport default new Api(\n  BASE_URL,\n  process.env.REACT_APP_API_TOKEN,\n);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\film-details\\film-details.tsx",["203","204","205","206","207","208","209","210","211"],"import React, {\n  useCallback, useEffect, useMemo, useState,\n} from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { FaRegHeart } from \"react-icons/fa\";\nimport { AiFillHeart } from \"react-icons/ai\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { TRouteParams } from \"../../constants/types/types\";\nimport api from \"../../services/api\";\nimport FilmAdapter from \"../../redux/reducers/films/utils/filmAdapter\";\nimport { addFavoriteFilm } from \"../../redux/reducers/user/reducer\";\nimport Loader from \"../loader/loader\";\nimport { IMAGE_SIZE_URL, YOUTUBE_LINK } from \"../../constants/constants\";\nimport { IClientFilmDetails } from \"../../redux/reducers/films/types/types\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\n\ntype MyProps = RouteComponentProps<TRouteParams>;\n\ninterface IFilmDetailsState {\n  data: IClientFilmDetails,\n  videos: any,\n}\n\nconst FilmDetails: React.FC<MyProps> = ({ match }: MyProps) => {\n  const [details, setDetails] = useState<IFilmDetailsState>();\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const userID = useSelector((state: IRootState) => state.user.data.id);\n  const authStatus = useSelector((state: IRootState) => state.user.isLogin);\n  const favoriteFilms = useSelector((state: IRootState) => state.user.data.favoriteFilms);\n  const { id } = match.params;\n\n  const getFilmDetailsData = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await api.getDetails(id);\n      const responseVideo = await api.getVideo(id);\n      setDetails(\n        { data: FilmAdapter.transformFilmDetailsData(response.data), videos: responseVideo.data.results },\n      );\n    } catch (e) {\n      console.log(\"Ошибка при получении информации о фильме\", e);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [id]);\n\n  useEffect(() => {\n    getFilmDetailsData();\n  }, [id]);\n\n  const handleFavoriteIconFilmClick = useCallback(async () => {\n    try {\n      const data = {\n        id,\n        backdropPath: details?.data?.backdropPath,\n        userID,\n      };\n      const response = await axios.put(\"/api/users/addToFavorite\", data);\n      if (response.status === 200) {\n        dispatch(addFavoriteFilm(response.data));\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [details, userID]);\n\n  const isFilmFavorite = useMemo(() => {\n    if (!authStatus) return null;\n    const filmStatus = favoriteFilms.findIndex((film) => film.id === id) !== -1;\n    const className = \"film-details__icon-container\";\n\n    return (\n      <div\n        role=\"presentation\"\n        onClick={() => handleFavoriteIconFilmClick()}\n        className={`${className} ${filmStatus ? \"film-details__icon-container--favorite\" : \"\"}`}\n      >\n        <AiFillHeart className=\"film-details__icon\" />\n      </div>\n    );\n  }, [authStatus, id, details, favoriteFilms]);\n\n  const trailers = useMemo(() => {\n    // const trailersToShow = details?.videos.splice(0, 3);\n    return details?.videos\n      .slice(0, 3)\n      .map((video: any) => {\n        return (\n          <div className=\"film-details__trailer\" key={video.id}>\n            <iframe className=\"film-details__iframe-trailer\" allowFullScreen title=\"video\" src={`${YOUTUBE_LINK}${video.key}`} frameBorder=\"0\" />\n          </div>\n        );\n      });\n  }, [details, id]);\n\n  const subHeader = useMemo(() => {\n    const data = [\n      {\n        id: 1,\n        result: moment(details?.data.releaseDate).format(\"MMMM DD, YYYY\"),\n      },\n      {\n        id: 2,\n        result: details?.data.genres.map((genre) => genre.name).join(\", \"),\n      },\n      {\n        id: 3,\n        result: details?.data.runtime,\n      },\n    ];\n\n    return (\n      <ul className=\"film-details__sub-header\">\n        {data.map((element) => {\n          return <li className=\"film-details__sub-header-item\" key={element.id}>{element.result}</li>;\n        })}\n      </ul>\n    );\n  }, [details]);\n\n  if (isLoading) return <Loader />;\n\n  return (\n    <section>\n      <div className=\"content-wrapper film-details\">\n        <div className=\"film-details__image-container\">\n          <img\n            className=\"film-details__image\"\n            src={`${IMAGE_SIZE_URL.SMALL}/${details?.data.posterPath}`}\n            alt={`Постер фильма ${details?.data.title}`}\n          />\n          { isFilmFavorite }\n        </div>\n        <div className=\"film-details__content\">\n          <header className=\"film-details__header\">\n            <h2>{details?.data.title}</h2>\n            { subHeader }\n          </header>\n          <div>\n            <div>\n              <span>Overview: </span>\n              <p>{details?.data.overview}</p>\n            </div>\n            { details?.videos.length > 0\n            && (\n            <div>\n              <span>Trailers: </span>\n              <div className=\"film-details__trailer-list\">\n                { trailers }\n              </div>\n            </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default FilmDetails;\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\main\\main.tsx",["212"],"import React, { memo, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Menu from \"../menu/menu\";\nimport Content from \"../content/content\";\nimport { isStringsEqual } from \"../../utils/helpers\";\nimport { TGenre } from \"../../redux/reducers/genre/types/types\";\nimport { changeActiveGenre } from \"../../redux/reducers/genre/reducer\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\n\nconst Main: React.FC = () => {\n  const dispatch = useDispatch();\n  const genres = useSelector((state: IRootState) => state.genres.list);\n  const activeGenre = useSelector((state: IRootState) => state.genres.active);\n\n  const handleGenreClick = useCallback((genre: TGenre) => {\n    if (isStringsEqual(genre.name, activeGenre)) return;\n\n    dispatch(changeActiveGenre(genre.id));\n  }, [activeGenre]);\n  return (\n    <main className=\"main content-wrapper\">\n      <Menu\n        className=\"genre-list\"\n        render={(className: string) => {\n          return genres.map((genre: TGenre) => {\n            const isActive = isStringsEqual(activeGenre, genre.name);\n            const elementClass = `${className} ${isActive ? \"menu__item--active\" : \"\"}`;\n            return <li role=\"presentation\" key={genre.id} className={elementClass} onClick={() => handleGenreClick(genre)}>{genre.name}</li>;\n          });\n        }}\n      />\n      <Content />\n    </main>\n  );\n};\n\nexport default memo(Main);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\loginForm\\loginForm.tsx",["213"],"import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport { AiOutlineMail } from \"react-icons/ai\";\nimport { RiLockPasswordLine } from \"react-icons/ri\";\nimport { setUserData } from \"../../redux/reducers/user/reducer\";\nimport { ENDPOINTS } from \"../../constants/constants\";\n\ninterface ILoginFormProps {\n  successCb?: (args?: any) => void\n}\n\nconst LoginForm: React.FC<ILoginFormProps> = ({ successCb }: ILoginFormProps) => {\n  const dispatch = useDispatch();\n  const [data, setData] = useState({});\n  const [formStatus, setFormStatus] = useState({\n    loading: false,\n    error: false,\n    message: \"\",\n  });\n\n  const handleFormSubmit = async (evt: React.FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    setFormStatus((prevState) => ({ ...prevState, loading: true, error: false }));\n    try {\n      const response = await axios.post(\n        ENDPOINTS.login,\n        data,\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n          baseURL: \"/\",\n        },\n      );\n      if (response.status === 200) {\n        dispatch(setUserData(response.data));\n        // Если был передан callback, вызываем его\n        if (successCb) successCb();\n      }\n    } catch (e) {\n      const { error } = e.response.data;\n      setFormStatus({ error: true, loading: false, message: error });\n    }\n  };\n  const handleInputChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    const { value, name } = evt.target;\n    setData((prevState) => {\n      return { ...prevState, [name]: value };\n    });\n  };\n  return (\n    <form className=\"form\" onSubmit={handleFormSubmit}>\n      <p>Авторизация</p>\n      <div className=\"form__input-wrapper\">\n        <input name=\"email\" onChange={handleInputChange} className=\"form__input\" type=\"email\" placeholder=\"Email\" />\n        <span className=\"form__icon-wrapper\">\n          <AiOutlineMail />\n        </span>\n      </div>\n      <div className=\"form__input-wrapper\">\n        <input name=\"password\" onChange={handleInputChange} className=\"form__input\" type=\"password\" placeholder=\"Password\" />\n        <span className=\"form__icon-wrapper\">\n          <RiLockPasswordLine />\n        </span>\n      </div>\n      <button className=\"button button--orange\" type=\"submit\">\n        {!formStatus.loading && \"Войти\"}\n        {formStatus.loading && \"Загружается\"}\n      </button>\n      {formStatus.error && <div className=\"error form__error\">{formStatus.message}</div>}\n    </form>\n  );\n};\n\nexport default LoginForm;\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\registerForm\\registerForm.tsx",["214"],"import React, { memo, useState } from \"react\";\nimport axios from \"axios\";\nimport { AiOutlineMail } from \"react-icons/ai\";\nimport { RiLockPasswordLine } from \"react-icons/ri\";\nimport { FiUser } from \"react-icons/fi\";\nimport { ENDPOINTS } from \"../../constants/constants\";\n\ninterface IRegisterFormProps {\n  successCb?: (args?: any) => void\n}\n\nconst RegisterForm: React.FC<IRegisterFormProps> = ({ successCb }: IRegisterFormProps) => {\n  const [data, setData] = useState({});\n  const [formStatus, setFormStatus] = useState({\n    loading: false,\n    error: false,\n    message: \"\",\n  });\n\n  const handleFormSubmit = async (evt: React.FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    setFormStatus((prevState) => ({ ...prevState, loading: true, error: false }));\n    try {\n      const response = await axios.post(\n        ENDPOINTS.registration,\n        data,\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n          baseURL: \"/\",\n        },\n      );\n      if (response.status === 200) {\n        if (successCb) successCb();\n      }\n    } catch (e) {\n      const { error } = e.response.data;\n      setFormStatus({ error: true, loading: false, message: error });\n    }\n  };\n\n  const handleInputChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    const { value, name } = evt.target;\n    setData((prevState) => {\n      return { ...prevState, [name]: value };\n    });\n  };\n  return (\n    <form className=\"form\" onSubmit={handleFormSubmit}>\n      <p>Регистрация</p>\n      <div className=\"form__input-wrapper\">\n        <input required onChange={handleInputChange} name=\"username\" className=\"form__input\" type=\"text\" placeholder=\"Username\" />\n        <span className=\"form__icon-wrapper\">\n          <FiUser />\n        </span>\n      </div>\n      <div className=\"form__input-wrapper\">\n        <input required onChange={handleInputChange} name=\"email\" className=\"form__input\" type=\"email\" placeholder=\"Email\" />\n        <span className=\"form__icon-wrapper\">\n          <AiOutlineMail />\n        </span>\n      </div>\n      <div className=\"form__input-wrapper\">\n        <input required onChange={handleInputChange} name=\"password\" className=\"form__input\" type=\"text\" placeholder=\"Password\" />\n        <span className=\"form__icon-wrapper\">\n          <RiLockPasswordLine />\n        </span>\n      </div>\n      <div className=\"form__input-wrapper\">\n        <input required onChange={handleInputChange} name=\"confirm_password\" className=\"form__input\" type=\"text\" placeholder=\"Repeat password\" />\n        <span className=\"form__icon-wrapper\">\n          <RiLockPasswordLine />\n        </span>\n      </div>\n      <button className=\"button button--orange\" type=\"submit\">\n        {!formStatus.loading && \"Войти\"}\n        {formStatus.loading && \"Загружается\"}\n      </button>\n      {formStatus.error && <div className=\"error form__error\">{formStatus.message}</div>}\n    </form>\n  );\n};\n\nexport default memo(RegisterForm);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\menu\\menu.tsx",["215"],"import React, { memo } from \"react\";\n\ninterface IMenuListProps {\n  className?: string; // класс для родительского компонента\n  render?: any;\n  direction?: string;\n}\n\nconst Menu: React.FC<IMenuListProps> = ({\n  className, render, direction,\n}: IMenuListProps) => {\n  return (\n    <nav className={`menu ${className}`}>\n      <ul className={`menu__list ${direction && \"menu__list--row\"}`}>\n        {render(\"menu__item\")}\n      </ul>\n    </nav>\n  );\n};\n\nMenu.defaultProps = {\n  className: \"\",\n  render: () => <li>1</li>,\n  direction: \"\",\n};\n\nexport default memo(Menu);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\content\\content.tsx",["216","217","218"],"import React, {\n  memo, useCallback, useEffect, useState, useRef,\n} from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport debounce from \"lodash.debounce\";\nimport Menu from \"../menu/menu\";\nimport { CONSTANT_GENRES } from \"../../constants/constants\";\nimport Search from \"../search/search\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\nimport { isStringsEqual } from \"../../utils/helpers\";\nimport { changeCategory } from \"../../redux/reducers/genre/reducer\";\nimport { TCategoryListItem } from \"../../redux/reducers/genre/types/types\";\nimport Films from \"../films/films\";\nimport Loader from \"../loader/loader\";\nimport { IClientFilmData } from \"../../redux/reducers/films/types/types\";\n\nconst Content: React.FC = () => {\n  const [filmsToShow, setFilmsToShow] = useState<Array<IClientFilmData>>([]);\n  const dispatch = useDispatch();\n  const searchInputRef = useRef<HTMLInputElement>(null);\n  const filmCategory = useSelector((state: IRootState) => state.genres.category);\n  const activeGenre = useSelector((state: IRootState) => state.genres.active);\n  const genreCategory = useSelector((state: IRootState) => state.genres.category);\n  const isFilmLoading = useSelector((state: IRootState) => state.films.loading);\n  const films = useSelector((state: IRootState) => state.films.films);\n\n  const handleCategoryClick = useCallback((category: TCategoryListItem) => {\n    if (isStringsEqual(category.name, filmCategory)) return;\n    dispatch(changeCategory(category.id));\n  }, [filmCategory]);\n\n  useEffect(() => {\n    setFilmsToShow(films);\n  }, [films]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [activeGenre, genreCategory]);\n\n  // Используем debounce, чтобы не вызывать каждый поиск фильмов при вводе текста в строку поиска\n  const handleSearchInput = useCallback(debounce((evt: React.ChangeEvent<HTMLInputElement>) => {\n    if (evt.target.value === \"\") {\n      setFilmsToShow(films);\n      return;\n    }\n\n    const filterFilms = films.filter((film) => {\n      const filmTitle = film.title.toLowerCase();\n\n      return filmTitle.indexOf(evt.target.value.toLowerCase()) !== -1;\n    });\n\n    setFilmsToShow(filterFilms);\n  }, 500), [films]);\n  return (\n    <div className=\"content\">\n      <div className=\"content__header\">\n        {\n          activeGenre === \"All\"\n          && (\n          <Menu\n            direction=\"row\"\n            render={(className: string) => {\n              return CONSTANT_GENRES.map((movie: any) => {\n                const isActive = isStringsEqual(movie.name, filmCategory);\n                const elementClass = `${className} ${isActive ? \"menu__item--active\" : \"\"}`;\n                return <li role=\"presentation\" className={elementClass} key={movie.id} onClick={() => handleCategoryClick(movie)}>{movie.name}</li>;\n              });\n            }}\n          />\n          )\n        }\n        <Search className=\"content__search\" callback={handleSearchInput} ref={searchInputRef} />\n      </div>\n      <div className=\"content__films\">\n        { isFilmLoading\n          ? <Loader />\n          : <Films isSearching={searchInputRef.current && searchInputRef?.current.value !== \"\"} films={filmsToShow} />}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Content);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\films\\films.tsx",["219","220"],"import React, { memo, useCallback, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport debounce from \"lodash.debounce\";\nimport { IClientFilmData } from \"../../redux/reducers/films/types/types\";\nimport FilmCard from \"../film-card/film-card\";\nimport { IRootState } from \"../../redux/reducers/types/types\";\nimport Loader from \"../loader/loader\";\nimport { loadAdditionFilmsRequest } from \"../../redux/reducers/films/reducer\";\nimport { RoutePathes } from \"../../constants/constants\";\n\ninterface IFilmsProps {\n  className?: string\n  films: Array<IClientFilmData>,\n  isSearching: boolean | null,\n}\n\nconst Films = ({ className, films, isSearching = false }: IFilmsProps) => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector((state: IRootState) => state.films.loadingAdditionFilms);\n  // const isSearching = useSelector((state: IRootState) => state.films.isSearching);\n\n  const handleScroll = useCallback(debounce(() => {\n    if (((window.innerHeight + window.scrollY) >= document.body.offsetHeight) && !isSearching && !isLoading) {\n      dispatch(loadAdditionFilmsRequest());\n    }\n  }, 500), [isSearching, isLoading]);\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [isSearching, films, isLoading]);\n\n  const createFilmsCards = useCallback(() => {\n    return films.map((film: IClientFilmData) => {\n      const { id, ...props } = film;\n      return <Link key={film.id} to={`${RoutePathes.FILM_DETAILS}/${id}`}><FilmCard data={props} /></Link>;\n    });\n  }, [films]);\n  return (\n    <>\n      <div className={`films ${className}`}>\n        {createFilmsCards()}\n      </div>\n      { isLoading\n      && (\n      <div className=\"films__loader\">\n        <Loader />\n      </div>\n      )}\n    </>\n  );\n};\n\nFilms.defaultProps = {\n  className: \"\",\n};\n\nexport default memo(Films);\n","C:\\repos\\l1nks-movie-app\\client\\src\\components\\search\\search.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\film-card\\film-card.tsx",[],["221","222","223","224","225","226","227"],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\private-route\\private-route.tsx",["228","229"],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\popup\\popup.tsx",[],"C:\\repos\\l1nks-movie-app\\client\\src\\components\\redirect-login\\redirect-login.tsx",["230"],"import React from \"react\";\n\nconst RedirectLogin = () => {\n  return (\n    <div>Необходимо залогиниться</div>\n  );\n};\n\nexport default RedirectLogin;\n",{"ruleId":"231","severity":1,"message":"232","line":5,"column":8,"nodeType":"233","messageId":"234","endLine":5,"endColumn":11},{"ruleId":"235","replacedBy":"236"},{"ruleId":"237","replacedBy":"238"},{"ruleId":"239","replacedBy":"240"},{"ruleId":"241","replacedBy":"242"},{"ruleId":"243","replacedBy":"244"},{"ruleId":"245","replacedBy":"246"},{"ruleId":"247","replacedBy":"248"},{"ruleId":"231","severity":1,"message":"249","line":2,"column":19,"nodeType":"233","messageId":"234","endLine":2,"endColumn":25},{"ruleId":"231","severity":1,"message":"250","line":7,"column":23,"nodeType":"233","messageId":"234","endLine":7,"endColumn":32},{"ruleId":"231","severity":1,"message":"251","line":2,"column":18,"nodeType":"233","messageId":"234","endLine":2,"endColumn":26},{"ruleId":"252","severity":1,"message":"253","line":5,"column":16,"nodeType":"254","messageId":"255","endLine":5,"endColumn":36},{"ruleId":"231","severity":1,"message":"256","line":56,"column":7,"nodeType":"233","messageId":"234","endLine":56,"endColumn":15},{"ruleId":"231","severity":1,"message":"251","line":3,"column":10,"nodeType":"233","messageId":"234","endLine":3,"endColumn":18},{"ruleId":"231","severity":1,"message":"257","line":6,"column":8,"nodeType":"233","messageId":"234","endLine":6,"endColumn":12},{"ruleId":"258","severity":1,"message":"259","line":46,"column":6,"nodeType":"260","endLine":46,"endColumn":8,"suggestions":"261"},{"ruleId":"252","severity":1,"message":"253","line":18,"column":16,"nodeType":"254","messageId":"255","endLine":18,"endColumn":42},{"ruleId":"231","severity":1,"message":"262","line":1,"column":38,"nodeType":"233","messageId":"234","endLine":1,"endColumn":45},{"ruleId":"231","severity":1,"message":"263","line":3,"column":10,"nodeType":"233","messageId":"234","endLine":3,"endColumn":28},{"ruleId":"264","severity":1,"message":"265","line":45,"column":69,"nodeType":"266","messageId":"267","endLine":45,"endColumn":72,"suggestions":"268"},{"ruleId":"269","severity":1,"message":"270","line":32,"column":11,"nodeType":"271","messageId":"272","endLine":32,"endColumn":22},{"ruleId":"269","severity":1,"message":"270","line":59,"column":11,"nodeType":"271","messageId":"272","endLine":59,"endColumn":22},{"ruleId":"269","severity":1,"message":"270","line":80,"column":11,"nodeType":"271","messageId":"272","endLine":80,"endColumn":22},{"ruleId":"252","severity":1,"message":"253","line":84,"column":16,"nodeType":"254","messageId":"255","endLine":84,"endColumn":42},{"ruleId":"231","severity":1,"message":"273","line":1,"column":23,"nodeType":"233","messageId":"234","endLine":1,"endColumn":36},{"ruleId":"231","severity":1,"message":"262","line":1,"column":38,"nodeType":"233","messageId":"234","endLine":1,"endColumn":45},{"ruleId":"231","severity":1,"message":"251","line":1,"column":10,"nodeType":"233","messageId":"234","endLine":1,"endColumn":18},{"ruleId":"231","severity":1,"message":"274","line":1,"column":27,"nodeType":"233","messageId":"234","endLine":1,"endColumn":33},{"ruleId":"231","severity":1,"message":"275","line":5,"column":8,"nodeType":"233","messageId":"234","endLine":5,"endColumn":20},{"ruleId":"269","severity":1,"message":"270","line":35,"column":23,"nodeType":"271","messageId":"272","endLine":35,"endColumn":34},{"ruleId":"269","severity":1,"message":"270","line":40,"column":23,"nodeType":"271","messageId":"272","endLine":40,"endColumn":34},{"ruleId":"269","severity":1,"message":"270","line":52,"column":11,"nodeType":"271","messageId":"272","endLine":52,"endColumn":22},{"ruleId":"258","severity":1,"message":"276","line":111,"column":6,"nodeType":"260","endLine":111,"endColumn":16,"suggestions":"277"},{"ruleId":"252","severity":1,"message":"253","line":4,"column":3,"nodeType":"278","messageId":"255","endLine":4,"endColumn":52},{"ruleId":"252","severity":1,"message":"253","line":23,"column":3,"nodeType":"278","messageId":"255","endLine":23,"endColumn":53},{"ruleId":"264","severity":1,"message":"265","line":20,"column":20,"nodeType":"266","messageId":"267","endLine":20,"endColumn":23,"suggestions":"279"},{"ruleId":"231","severity":1,"message":"280","line":38,"column":16,"nodeType":"233","messageId":"234","endLine":38,"endColumn":22},{"ruleId":"231","severity":1,"message":"281","line":5,"column":10,"nodeType":"233","messageId":"234","endLine":5,"endColumn":20},{"ruleId":"264","severity":1,"message":"265","line":23,"column":11,"nodeType":"266","messageId":"267","endLine":23,"endColumn":14,"suggestions":"282"},{"ruleId":"269","severity":1,"message":"270","line":44,"column":7,"nodeType":"271","messageId":"272","endLine":44,"endColumn":18},{"ruleId":"258","severity":1,"message":"283","line":52,"column":6,"nodeType":"260","endLine":52,"endColumn":10,"suggestions":"284"},{"ruleId":"269","severity":1,"message":"270","line":66,"column":7,"nodeType":"271","messageId":"272","endLine":66,"endColumn":18},{"ruleId":"258","severity":1,"message":"285","line":68,"column":6,"nodeType":"260","endLine":68,"endColumn":23,"suggestions":"286"},{"ruleId":"258","severity":1,"message":"287","line":84,"column":6,"nodeType":"260","endLine":84,"endColumn":46,"suggestions":"288"},{"ruleId":"264","severity":1,"message":"265","line":90,"column":20,"nodeType":"266","messageId":"267","endLine":90,"endColumn":23,"suggestions":"289"},{"ruleId":"258","severity":1,"message":"290","line":97,"column":6,"nodeType":"260","endLine":97,"endColumn":19,"suggestions":"291"},{"ruleId":"258","severity":1,"message":"292","line":19,"column":6,"nodeType":"260","endLine":19,"endColumn":19,"suggestions":"293"},{"ruleId":"264","severity":1,"message":"265","line":10,"column":23,"nodeType":"266","messageId":"267","endLine":10,"endColumn":26,"suggestions":"294"},{"ruleId":"264","severity":1,"message":"265","line":9,"column":23,"nodeType":"266","messageId":"267","endLine":9,"endColumn":26,"suggestions":"295"},{"ruleId":"264","severity":1,"message":"265","line":5,"column":12,"nodeType":"266","messageId":"267","endLine":5,"endColumn":15,"suggestions":"296"},{"ruleId":"258","severity":1,"message":"292","line":30,"column":6,"nodeType":"260","endLine":30,"endColumn":20,"suggestions":"297"},{"ruleId":"258","severity":1,"message":"298","line":41,"column":29,"nodeType":"233","endLine":41,"endColumn":40},{"ruleId":"264","severity":1,"message":"265","line":64,"column":50,"nodeType":"266","messageId":"267","endLine":64,"endColumn":53,"suggestions":"299"},{"ruleId":"258","severity":1,"message":"298","line":23,"column":24,"nodeType":"233","endLine":23,"endColumn":35},{"ruleId":"258","severity":1,"message":"300","line":35,"column":6,"nodeType":"260","endLine":35,"endColumn":37,"suggestions":"301"},{"ruleId":"235","replacedBy":"302"},{"ruleId":"237","replacedBy":"303"},{"ruleId":"239","replacedBy":"304"},{"ruleId":"241","replacedBy":"305"},{"ruleId":"243","replacedBy":"306"},{"ruleId":"245","replacedBy":"307"},{"ruleId":"247","replacedBy":"308"},{"ruleId":"264","severity":1,"message":"265","line":7,"column":30,"nodeType":"266","messageId":"267","endLine":7,"endColumn":33,"suggestions":"309"},{"ruleId":"264","severity":1,"message":"265","line":7,"column":65,"nodeType":"266","messageId":"267","endLine":7,"endColumn":68,"suggestions":"310"},{"ruleId":"252","severity":1,"message":"253","line":3,"column":23,"nodeType":"311","messageId":"255","endLine":3,"endColumn":28},"@typescript-eslint/no-unused-vars","'App' is defined but never used.","Identifier","unusedVar","jsx-a11y/accessible-emoji",[],"lines-around-directive",["312"],"no-spaced-func",["313"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"'Action' is defined but never used.","'RootState' is defined but never used.","'Redirect' is defined but never used.","@typescript-eslint/explicit-module-boundary-types","Missing return type on function.","FunctionDeclaration","missingReturnType","'CORS_URL' is assigned a value but never used.","'Main' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["314"],"'current' is defined but never used.","'TUserFavoriteFilms' is defined but never used.","@typescript-eslint/no-explicit-any","Unexpected any. Specify a different type.","TSAnyKeyword","unexpectedAny",["315","316"],"no-console","Unexpected console statement.","MemberExpression","unexpected","'PayloadAction' is defined but never used.","'Switch' is defined but never used.","'PrivateRoute' is defined but never used.","React Hook useMemo has a missing dependency: 'userMenuActions'. Either include it or remove the dependency array.",["317"],"FunctionExpression",["318","319"],"'params' is assigned a value but never used.","'FaRegHeart' is defined but never used.",["320","321"],"React Hook useEffect has a missing dependency: 'getFilmDetailsData'. Either include it or remove the dependency array.",["322"],"React Hook useCallback has missing dependencies: 'dispatch' and 'id'. Either include them or remove the dependency array.",["323"],"React Hook useMemo has a missing dependency: 'handleFavoriteIconFilmClick'. Either include it or remove the dependency array.",["324"],["325","326"],"React Hook useMemo has an unnecessary dependency: 'id'. Either exclude it or remove the dependency array.",["327"],"React Hook useCallback has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["328"],["329","330"],["331","332"],["333","334"],["335"],"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.",["336","337"],"React Hook useEffect has a missing dependency: 'handleScroll'. Either include it or remove the dependency array.",["338"],[],["312"],["313"],[],[],[],[],["339","340"],["341","342"],"ArrowFunctionExpression","padding-line-between-statements","func-call-spacing",{"desc":"343","fix":"344"},{"messageId":"345","fix":"346","desc":"347"},{"messageId":"348","fix":"349","desc":"350"},{"desc":"351","fix":"352"},{"messageId":"345","fix":"353","desc":"347"},{"messageId":"348","fix":"354","desc":"350"},{"messageId":"345","fix":"355","desc":"347"},{"messageId":"348","fix":"356","desc":"350"},{"desc":"357","fix":"358"},{"desc":"359","fix":"360"},{"desc":"361","fix":"362"},{"messageId":"345","fix":"363","desc":"347"},{"messageId":"348","fix":"364","desc":"350"},{"desc":"365","fix":"366"},{"desc":"367","fix":"368"},{"messageId":"345","fix":"369","desc":"347"},{"messageId":"348","fix":"370","desc":"350"},{"messageId":"345","fix":"371","desc":"347"},{"messageId":"348","fix":"372","desc":"350"},{"messageId":"345","fix":"373","desc":"347"},{"messageId":"348","fix":"374","desc":"350"},{"desc":"375","fix":"376"},{"messageId":"345","fix":"377","desc":"347"},{"messageId":"348","fix":"378","desc":"350"},{"desc":"379","fix":"380"},{"messageId":"345","fix":"381","desc":"347"},{"messageId":"348","fix":"382","desc":"350"},{"messageId":"345","fix":"383","desc":"347"},{"messageId":"348","fix":"384","desc":"350"},"Update the dependencies array to be: [dispatch]",{"range":"385","text":"386"},"suggestUnknown",{"range":"387","text":"388"},"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct.","suggestNever",{"range":"387","text":"389"},"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of.","Update the dependencies array to be: [userMenuActions, userName]",{"range":"390","text":"391"},{"range":"392","text":"388"},{"range":"392","text":"389"},{"range":"393","text":"388"},{"range":"393","text":"389"},"Update the dependencies array to be: [getFilmDetailsData, id]",{"range":"394","text":"395"},"Update the dependencies array to be: [details?.data?.backdropPath, dispatch, id, userID]",{"range":"396","text":"397"},"Update the dependencies array to be: [authStatus, favoriteFilms, id, handleFavoriteIconFilmClick]",{"range":"398","text":"399"},{"range":"400","text":"388"},{"range":"400","text":"389"},"Update the dependencies array to be: [details]",{"range":"401","text":"402"},"Update the dependencies array to be: [activeGenre, dispatch]",{"range":"403","text":"404"},{"range":"405","text":"388"},{"range":"405","text":"389"},{"range":"406","text":"388"},{"range":"406","text":"389"},{"range":"407","text":"388"},{"range":"407","text":"389"},"Update the dependencies array to be: [dispatch, filmCategory]",{"range":"408","text":"409"},{"range":"410","text":"388"},{"range":"410","text":"389"},"Update the dependencies array to be: [isSearching, films, isLoading, handleScroll]",{"range":"411","text":"412"},{"range":"413","text":"388"},{"range":"413","text":"389"},{"range":"414","text":"388"},{"range":"414","text":"389"},[1708,1710],"[dispatch]",[1444,1447],"unknown","never",[3153,3163],"[userMenuActions, userName]",[416,419],[948,951],[1965,1969],"[getFilmDetailsData, id]",[2376,2393],"[details?.data?.backdropPath, dispatch, id, userID]",[2899,2939],"[authStatus, favoriteFilms, id, handleFavoriteIconFilmClick]",[3103,3106],[3384,3397],"[details]",[819,832],"[activeGenre, dispatch]",[383,386],[325,328],[136,139],[1509,1523],"[dispatch, filmCategory]",[2464,2467],[1372,1403],"[isSearching, films, isLoading, handleScroll]",[272,275],[307,310]]