[{"C:\\repos\\l1nks-movie-app\\client\\src\\index.tsx":"1"},{"size":2838,"mtime":1609398156050,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"6"},"1wr28c8","C:\\repos\\l1nks-movie-app\\client\\src\\index.tsx",["7"],"import React, { useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n    return <div>Home Page </div>\r\n}\r\n\r\nconst About = () => {\r\n    const [users, setUsers] = useState<any[]>([]);\r\n\r\n    useEffect(() => {\r\n        console.log(\"Fetch запрос\");\r\n        fetch('/api/users')\r\n    }, []);\r\n\r\n    return (\r\n    <div>\r\n        <h1>About Page</h1>\r\n        {users?.map((user) => {\r\n            console.log(user);\r\n            return (\r\n                <div key={user._id}>{user.login}</div>\r\n            )\r\n        })}\r\n    </div>\r\n    )\r\n}\r\n\r\nconst Login = () => {\r\n    const [login, setLogin] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const handleInputChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { value, name } = evt.target;\r\n    \r\n        name === 'login' ? setLogin(value) : setPassword(value)\r\n    }\r\n\r\n    const onSubmit = (evt: React.FormEvent<HTMLFormElement>) => {\r\n        evt.preventDefault();\r\n\r\n        fetch('/api/authenticate', {\r\n            method: 'POST',\r\n            body: JSON.stringify({login, password}),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then((res) => {\r\n            console.log(res);\r\n        })\r\n\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n            <h1>Login Below!</h1>\r\n            <input\r\n            type=\"login\"\r\n            name=\"login\"\r\n            placeholder=\"Enter login\"\r\n            value={login}\r\n            onChange={handleInputChange}\r\n            required\r\n            />\r\n            <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Enter password\"\r\n            value={password}\r\n            onChange={handleInputChange}\r\n            required\r\n            />\r\n            <button type=\"submit\">Логин</button>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst App = () => {\r\n    return (\r\n        <Router>\r\n            <nav>\r\n                <li>\r\n                    <Link to=\"/\">Home</Link>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/about\">About</Link>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/login\">Login</Link>\r\n                </li>\r\n            </nav>\r\n            <Switch>\r\n                <Route path=\"/about\">\r\n                    <About />\r\n                </Route>\r\n                <Route path=\"/login\">\r\n                    <Login />\r\n                </Route>\r\n                <Route path=\"/\">\r\n                    <Home />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n",{"ruleId":"8","severity":1,"message":"9","line":15,"column":19,"nodeType":"10","messageId":"11","endLine":15,"endColumn":27},"@typescript-eslint/no-unused-vars","'setUsers' is assigned a value but never used.","Identifier","unusedVar"]